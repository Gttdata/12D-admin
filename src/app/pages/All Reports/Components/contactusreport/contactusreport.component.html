<div nz-row
	nzType="flex">
	<div nz-col
		nzSpan="12"
		style="text-align: left">
		<div class="formname">{{ formTitle }}</div>
	</div>

	<div nz-col
		nzXs="24"
		nzSm="24"
		nzMd="16"
		nzLg="12"
		nzXl="12">
		<div style="display: flex; justify-content: flex-end; align-items: center">
			<button (click)="importInExcel()"
				nz-button
				nz-tooltip
				nzTooltipTitle="Excel"
				nzTooltipPlacement="top"
				nzType="primary"
				style="margin-right: 10px">
				<i nz-icon
					nzType="file-excel"
					nzTheme="outline"></i>
			</button>

			<button [nzType]="isFilterApplied"
				(click)="showFilter()"
				nz-button
				nzTooltipTitle="Filter"
				nzTooltipPlacement="top"
				nz-tooltip>
				<i nz-icon
					nzType="filter"></i>
			</button>

			<form [nzLayout]="'inline'"
				nz-form>
				<nz-form-item class="Changeformitm">
					<nz-input-group [nzAddOnAfter]="suffixIconButton"
						nzSearch>
						<input [(ngModel)]="searchText"
							(keyup)="keyup($event)"
							type="text"
							name="webbannersearch"
							nz-input
							placeholder="Search">
					</nz-input-group>
					<ng-template #suffixIconButton>
						<button (click)="search()"
							nz-button
							nzType="primary"
							nzSearch>
							<i nz-icon
								nzType="search"></i>
						</button>
					</ng-template>
				</nz-form-item>
			</form>
		</div>
	</div>
</div>

<div nz-row>
	<div nz-col
		nzSpan="24">
		<div class="filter {{ filterClass }}">
			<div class="filter-box">
				<form nz-form>
					<div nz-row>
						<div [nzSpan]="screenWidth > 1500 && roleId == 2 ? 6 : 6"
							nz-col>
							<nz-form-item>
								<nz-form-label nzNoColon>From Date</nz-form-label>
								<nz-form-control>
									<nz-date-picker [(ngModel)]="fromDate"
										(ngModelChange)="onChange($event)"
										nz-input
										nzFormat="dd/MMM/yyyy"
										name="frmDate"
										style="width: 100%"></nz-date-picker>
								</nz-form-control>
							</nz-form-item>
						</div>
						<div [nzSpan]="screenWidth > 1500 && roleId == 2 ? 6 : 6"
							nz-col>
							<nz-form-item>
								<nz-form-label nzNoColon>To Date</nz-form-label>
								<nz-form-control>
									<nz-date-picker [(ngModel)]="toDate"
										(ngModelChange)="onChange($event)"
										nz-input
										nzFormat="dd/MMM/yyyy"
										name="toDate1"
										style="width: 100%"></nz-date-picker>
								</nz-form-control>
							</nz-form-item>
						</div>
						<div [nzSpan]="screenWidth > 1300 && roleId == 2 ? 4 : 4"
							nz-col
							style="display: flex; gap: 10px; margin-top: 31px">
							<button [nzLoading]="isSpinning"
								(click)="applyFilter()"
								nz-button
								nzType="primary">
								<i nz-icon
									nzType="filter"></i>
							</button>
							<button [nzLoading]="isSpinning"
								(click)="clearFilter()"
								nz-button
								nzType="primary">
								<i nz-icon
									nzType="close"></i>
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<div nz-row
	style="margin-top: 10px">
	<div nz-col
		nzSpan="24">
		<nz-table #table
			[nzFrontPagination]="false"
			[nzData]="dataList"
			[nzLoading]="loadingRecords"
			[nzSize]="'small'"
			[nzTotal]="totalRecords"
			[nzScroll]="
          screenWidth > 1300 && roleId == 2
            ? { x: '500px', y: '55vh' }
            : { x: '500px', y: '55vh' }
        "
			[(nzPageIndex)]="pageIndex"
			[(nzPageSize)]="pageSize"
			(nzPageIndexChange)="search()"
			(nzPageSizeChange)="search(true)"
			(nzQueryParams)="sort($event)"
			class="my-scroll no-wrap1"
			nzBordered
			nzShowSizeChanger>
			<thead>
				<tr>
					<th [nzSortFn]="true"
						nzLeft
						nzWidth="120px"
						style="text-align: center"
						nzColumnKey="{{ 'NAME' }}">
						<b>Name</b>
					</th>

					<th [nzSortFn]="true"
						nzWidth="60px"
						style="text-align: center"
						nzColumnKey="{{ 'MOBILE_NO' }}">
						<b>Mobile Number</b>
					</th>
					<th [nzSortFn]="true"
						nzWidth="60px"
						style="text-align: center"
						nzColumnKey="{{ 'EMAIL_ID' }}">
						<b>Email</b>
					</th>
					<th [nzSortFn]="true"
						nzWidth="60px"
						style="text-align: center"
						nzColumnKey="{{ 'DATE_TIME' }}">
						<b>Date Time</b>
					</th>
					<th [nzSortFn]="true"
						nzWidth="100px"
						style="text-align: center"
						nzColumnKey="{{ 'MESSAGE' }}">
						<b>Message</b>
					</th>

				</tr>
			</thead>

			<tbody>
				<tr *ngFor="let data of table.data">
					<td [nzTooltipTitle]="data['NAME']"
						nzLeft
						nz-tooltip
						style="
                white-space: nowrap;
                text-overflow: ellipsis;
                overflow: hidden;
                text-align: left;
              ">
						{{ data.NAME }}
					</td>

					<!-- <td style="white-space: pre-line; text-align: center">
                    {{ data.COUPON_CODE }}
                  </td> -->

					<td style="white-space: pre-line; text-align: center">{{ data.MOBILE_NO}}</td>
					<td [nzTooltipTitle]="data['EMAIL_ID']"
						nz-tooltip
						style="
                      white-space: nowrap;
                      text-overflow: ellipsis;
                      overflow: hidden;
                      text-align: left;
                    ">
						{{ data.EMAIL_ID?data.EMAIL_ID:'-' }}
					</td>
					<td>
						{{ data.DATE_TIME?(data.DATE_TIME | date:'dd/MMM/yyyy hh:mm:ss'):'-' }}
					</td>
					<td [nzTooltipTitle]="data['MESSAGE']"
						nz-tooltip
						style="
              white-space: nowrap;
              text-overflow: ellipsis;
              overflow: hidden;
              text-align: left;
            ">
						{{ data.MESSAGE?data.MESSAGE+ " "+data.MESSAGE:'' }}
					</td>

				</tr>
			</tbody>
		</nz-table>
	</div>
</div>
