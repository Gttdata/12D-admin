<!-- <button nz-button nzType="default" (click)="open()">Open</button> -->
<div *ngIf="isVisible">
  <div>
    <form nz-form #Teacher="ngForm">
      <!-- <nz-spin [nzSpinning]="isSpinning"> -->

      <nz-modal
        [(nzVisible)]="isVisible"
        [nzWidth]="'90%'"
        [nzBodyStyle]="{ 'max-height': '50%', 'min-height': '50%' }"
        (nzOnCancel)="handleOpenCancel()"
        nzTitle="Help"
        [nzFooter]="modalFooter"
        style="z-index: 2000 !important"
      >
        <ng-container *nzModalContent>
          <nz-steps
            [nzCurrent]="current"
            nzSize="small"
            [nzLabelPlacement]="'vertical'"
          >
            <nz-step nzTitle="Teacher"></nz-step>
            <nz-step nzTitle="Division"></nz-step>
            <nz-step nzTitle="Medium"></nz-step>
            <nz-step nzTitle="Fee Head"></nz-step>
            <nz-step nzTitle="Class"></nz-step>

            <nz-step nzTitle="Subject"></nz-step>
            <nz-step nzTitle="Student"></nz-step>
          </nz-steps>

          <!-- Teacher -->
          <div *ngIf="current == 0">
            <!-- Header Row -->
            <div nz-row nzType="flex" style="margin-top: 20px">
              <!-- Left side of the header -->
              <div nz-col nzXs="8" nzSm="8" nzMd="24" nzLg="6" nzXl="8">
                <!-- <div class="formname">{{ formTeacherTitle }}</div> -->
                <!-- Display the form title -->
              </div>

              <!-- Right side of the header with search and add button -->
              <div
                nz-col
                nzXs="16"
                nzSm="16"
                nzMd="24"
                nzLg="18"
                nzXl="16"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <!-- Search Input -->
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="search"
                        nz-input
                        placeholder="Search Records"
                        [(ngModel)]="teacherSearchText"
                      />
                    </nz-input-group>
                    <!-- Search Button -->
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="teacherSearch()"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>

                  <!-- Add New User Button -->
                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="teacherAdd()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add New Teacher
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>

            <div nz-row style="margin-top: 10px">
              <div nz-col nzSpan="2"></div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventTeacher('ALL')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          registercounts != undefined && registercounts != null
                        "
                        >{{ registercounts }}</span
                      >
                    </div>
                    <div
                      nz-col
                      nzSpan="18"
                      [ngStyle]="
                        showcolor0 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      <!-- All -->
                      <span (ngModelChange)="clickEventTeacher('all')"
                        >All</span
                      >
                      <!-- <button (ngModelChange)="clickEventTeacher('all')" name="APPROVAL_STATUS" [(ngModel)]="APPROVAL_STATUS" ></button>   -- -->
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventTeacher('A')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          approvedcounts != undefined && approvedcounts != null
                        "
                        >{{ approvedcounts }}</span
                      >
                    </div>
                    <div
                      nz-col
                      nzSpan="18"
                      [ngStyle]="
                        showcolor1 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Approved
                    </div>
                  </div>
                </div>
              </div>
              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventTeacher('R')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          rejectscounts != undefined && rejectscounts != null
                        "
                        >{{ rejectscounts }}</span
                      >
                    </div>
                    <div
                      [ngStyle]="
                        showcolor2 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      nz-col
                      nzSpan="18"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Reject
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventTeacher('P')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          pendingscounts != undefined && pendingscounts != null
                        "
                        >{{ pendingscounts }}</span
                      >
                    </div>
                    <div
                      [ngStyle]="
                        showcolor3 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      nz-col
                      nzSpan="18"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Pending
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventTeacher('B')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          blockedcounts != undefined && blockedcounts != null
                        "
                        >{{ blockedcounts }}</span
                      >
                    </div>
                    <div
                      [ngStyle]="
                        showcolor4 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      nz-col
                      nzSpan="18"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Blocked
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="2"></div>
            </div>

            <!-- Table Row -->
            <div nz-row>
              <div nz-col nzSpan="24">
                <!-- User Table -->
                <nz-table
                  class="my-scroll no-wrap1"
                  nzBordered
                  #teachertable
                  nzShowSizeChanger
                  [nzFrontPagination]="false"
                  [nzData]="teacherDataList"
                  [nzLoading]="teacherLoadingRecords"
                  [nzTotal]="teacherTotalRecords"
                  nzSize="small"
                  [(nzPageIndex)]="teacherPageIndex"
                  [(nzPageSize)]="teacherPageSize"
                  (nzPageIndexChange)="teacherSearch()"
                  (nzQueryParams)="teacherSort($event)"
                  (nzPageSizeChange)="teacherSearch(true)"
                  [nzScroll]="{ x: '1600px', y: '30vh' }"
                >
                  <!-- Table Header -->
                  <thead class="headerbg">
                    <tr>
                      <th nzWidth="40px" *ngIf="showcolor3 != 1" nzLeft>
                        Action
                      </th>

                      <th
                        nzWidth="40px"
                        nzLeft
                        *ngIf="showcolor3 == 1 || showcolor0 == 1"
                      >
                        Preview
                      </th>
                      <th nzWidth="40px" nzLeft>Delete</th>
                      <th
                        nzWidth="130px"
                        nzLeft
                        *ngIf="showcolor0 == 1"
                        [nzSortFn]="true"
                        nzColumnKey="APPROVAL_STATUS"
                      >
                        Teacher Status
                      </th>
                      <th nzWidth="200px" [nzSortFn]="true" nzColumnKey="NAME">
                        Teacher Name
                      </th>
                      <th
                        nzWidth="180px"
                        [nzSortFn]="true"
                        nzColumnKey=" EMAIL_ID"
                      >
                        Email Id
                      </th>
                      <th
                        nzWidth="100px"
                        [nzSortFn]="true"
                        nzColumnKey="MOBILE_NUMBER"
                      >
                        Mobile Number
                      </th>

                      <th nzWidth="80px" [nzSortFn]="true" nzColumnKey="GENDER">
                        Gender
                      </th>

                      <th nzWidth="80px" [nzSortFn]="true" nzColumnKey="DOB">
                        Birth Date
                      </th>

                      <!-- <th nzWidth="160px" [nzSortFn]="true" nzColumnKey="CLASS_NAME">
                      Class Name
                  </th> -->

                      <!-- <th
                        nzColumnKey="{{ 'SEQ_NO' }}"
                        [nzSortFn]="true"
                        nzWidth="70px"
                      >
                        Seq. No.
                      </th> -->

                      <!-- <th nzWidth="70px" [nzSortFn]="true" nzColumnKey="STATUS">
                        Status
                      </th> -->
                    </tr>
                  </thead>
                  <!-- Table Body -->
                  <tbody>
                    <tr *ngFor="let data of teachertable.data">
                      <td
                        nzLeft
                        style="text-align: center"
                        *ngIf="showcolor3 != 1"
                      >
                        <a
                          (click)="teacherEdit(data)"
                          nz-tooltip
                          nzTooltipTitle="Edit"
                        >
                          <span
                            nz-icon
                            nzType="edit"
                            nzTheme="twotone"
                            style="font-size: 15px"
                          ></span>
                        </a>
                      </td>
                      <td
                        nzLeft
                        style="text-align: center"
                        *ngIf="showcolor3 == 1 || showcolor0 == 1"
                      >
                        <a
                          (click)="PreviewTeacher(data)"
                          nz-tooltip
                          nzTooltipTitle="Preview"
                        >
                          <span
                            nz-icon
                            nzType="eye"
                            style="
                              cursor: pointer;
                              color: blue;
                              margin-right: 5px;
                            "
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td nzLeft style="text-align: center">
                        <a nz-tooltip nzTooltipTitle="Delete">
                          <span
                            nz-icon
                            nz-popconfirm
                            nzPopconfirmTitle="Are you sure You Want to delete data?"
                            nzOkText="Ok"
                            nzCancelText="Cancel"
                            (nzOnConfirm)="OnConfirmDeleteTeacher(data)"
                            nzType="delete"
                            style="
                              cursor: pointer;
                              color: blue;
                              margin-right: 5px;
                            "
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td
                        nzLeft
                        style="text-align: center"
                        *ngIf="showcolor0 == 1"
                      >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'P'"
                          style="color: orange; font-weight: bold"
                          >Pending</span
                        >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'A'"
                          style="color: green; font-weight: bold"
                          >Approved</span
                        >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'R'"
                          style="color: red; font-weight: bold"
                          >Reject</span
                        >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'B'"
                          style="color: gray; font-weight: bold"
                          >Blocked</span
                        >
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data.NAME }}
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data.EMAIL_ID }}
                      </td>
                      <td style="white-space: pre-line; text-align: center">
                        {{ data["MOBILE_NUMBER"] }}
                      </td>
                      <td style="text-align: left">
                        <span *ngIf="data['GENDER'] == 'M'">Male</span>
                        <span *ngIf="data['GENDER'] == 'F'">Female</span>
                        <span *ngIf="data['GENDER'] == 'O'">Other</span>
                      </td>

                      <td style="white-space: pre-line; text-align: center">
                        {{ data["DOB"] | date : "dd/MMM/yyyy" }}
                      </td>
                      <!-- <td style="white-space: pre-line;text-align: left;">{{ data.CLASS_NAME }}</td> -->
                      <!-- <td style="text-align: center; white-space: pre-line">
                        {{ data["SEQ_NO"] }}
                      </td> -->
                      <!-- <td style="white-space: pre-line; text-align: center">
                        <ng-container *ngIf="data.STATUS; else inactiveStatus">
                          <span nz-icon nzType="check-circle" style="color: #52c41a" nzTheme="outline"></span>
                        </ng-container>
                        <ng-template #inactiveStatus>
                          <span nz-icon nzType="close-circle" style="color: red" nzTheme="outline"></span>
                        </ng-template>
                      </td> -->
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>

            <!-- Drawer Component for User Details -->
            <div *ngIf="teacherDrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="600"
                [nzVisible]="teacherDrawerVisible"
                [nzTitle]="teacherDrawerTitle"
                (nzOnClose)="teacherDrawerClose()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <form nz-form #Teacher="ngForm">
                      <nz-spin [nzSpinning]="teacherIsSpinning">
                        <div nz-row>
                          <div nz-row>
                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="24"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon>
                                  Teacher Name
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip=" Please Enter Valid Teacher Name"
                                >
                                  <input
                                    nz-input
                                    autocomplete="off"
                                    name="teachernm"
                                    placeholder="Enter Teacher Name"
                                    [(ngModel)]="teacherData.NAME"
                                    minlength="4"
                                    maxlength="256"
                                    required
                                  />
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="16"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon
                                  >Email Id
                                </nz-form-label>

                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Please Enter Valid Email Id"
                                >
                                  <input
                                    nz-input
                                    autocomplete="off"
                                    name="email"
                                    placeholder="Enter Email Id"
                                    [pattern]="commonFunction.emailpattern"
                                    maxlength="128"
                                    [(ngModel)]="teacherData.EMAIL_ID"
                                    required
                                  />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="8"
                            >
                              <nz-form-label nzRequired nzNoColon
                                >Mobile Number</nz-form-label
                              >

                              <nz-form-item class="nz-form-item">
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Please Enter Valid Mobile No"
                                >
                                  <input
                                    nz-input
                                    autocomplete="off"
                                    name="mobileno"
                                    placeholder="Enter Mobile No."
                                    [pattern]="commonFunction.mobpattern"
                                    (keypress)="commonFunction.omit($event)"
                                    [(ngModel)]="teacherData.MOBILE_NUMBER"
                                    maxlength="10"
                                    minlength="10"
                                    required
                                  />
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="8"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon
                                  >Gender
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Please Select Gender"
                                >
                                  <nz-input-group nzCompact>
                                    <nz-select
                                      name="gender"
                                      nzPlaceHolder="Select Gender"
                                      [(ngModel)]="teacherData.GENDER"
                                      style="width: 100%"
                                      required
                                    >
                                      <nz-option
                                        [nzLabel]="'Male'"
                                        [nzValue]="'M'"
                                      ></nz-option>
                                      <nz-option
                                        [nzLabel]="'Female'"
                                        [nzValue]="'F'"
                                      ></nz-option>
                                      <nz-option
                                        [nzLabel]="'Other'"
                                        [nzValue]="'O'"
                                      ></nz-option>
                                    </nz-select>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="8"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon>
                                  Birth Date
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzRequired
                                  nzErrorTip="Please Select Birth Date"
                                >
                                  <nz-date-picker
                                    name="birthdate"
                                    style="width: 100%"
                                    (nzOnOpenChange)="open18YearAgo($event)"
                                    [nzDisabledDate]="
                                      commonFunction.disabledAfterDate
                                    "
                                    [nzShowToday]="false"
                                    [nzFormat]="commonFunction.dateFormatMMM"
                                    [(ngModel)]="teacherData.DOB"
                                    nzPlaceholder="Select Birth Date"
                                    required
                                  ></nz-date-picker>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="8"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon
                                  >Password
                                </nz-form-label>

                                <nz-form-control
                                  nzHasFeedback
                                  nzRequired
                                  nzErrorTip="Password must be 8 character"
                                >
                                  <nz-input-group [nzSuffix]="suffixTemplate">
                                    <input
                                      nz-input
                                      [type]="
                                        passwordVisible ? 'text' : 'password'
                                      "
                                      name="password"
                                      [(ngModel)]="teacherData.PASSWORD"
                                      maxlength="65"
                                      minlength="8"
                                      placeholder="Password"
                                      autocomplete="off"
                                      required
                                    />
                                  </nz-input-group>

                                  <ng-template #suffixTemplate>
                                    <i
                                      nz-icon
                                      [nzType]="
                                        passwordVisible
                                          ? 'eye'
                                          : 'eye-invisible'
                                      "
                                      (click)="
                                        passwordVisible = !passwordVisible
                                      "
                                    ></i>
                                  </ng-template>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="16">
                                          <nz-form-item class="nz-form-item">
                                              <nz-form-label nzRequired nzNoColon> Select Class </nz-form-label>
                                              <nz-form-control nzHasFeedback nzErrorTip="Please Select Class ">
                                                  <nz-select [nzLoading]="classload" nzMode="multiple" nzShowSearch nzAllowClear
                                                      nzPlaceHolder="Select Class"   name="class" [(ngModel)]="teacherDrawerData.CLASS_ID" required>
                                  
                                                      <nz-option *ngFor="let report of Classes" [nzValue]="report.ID"
                                                          [nzLabel]="report.NAME">
                                                      </nz-option>
                                                  </nz-select>
                                              </nz-form-control>
                                          </nz-form-item>
                                      </div> -->

                            <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="8"
                              *ngIf="isShowBlocked"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzNoColon
                                  >Teacher Status
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Please Select Teacher Status"
                                >
                                  <nz-input-group nzCompact>
                                    <nz-select
                                      name="teacherstatus"
                                      nzPlaceHolder="Teacher Status"
                                      [(ngModel)]="teacherData.APPROVAL_STATUS"
                                      style="width: 100%"
                                    >
                                      <!-- <nz-option [nzLabel]="'Pending'" [nzValue]="'P'"></nz-option>
                                                  <nz-option [nzLabel]="'Approved'" [nzValue]="'A'"></nz-option> -->
                                      <!-- <nz-option [nzLabel]="'Reject'" [nzValue]="'R'"></nz-option> -->
                                      <nz-option
                                        [nzLabel]="'Blocked'"
                                        [nzValue]="'B'"
                                      ></nz-option>
                                    </nz-select>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div
                              *ngIf="
                                teacherData.APPROVAL_STATUS == 'R' ||
                                teacherData.APPROVAL_STATUS == 'B'
                              "
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="24"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon>
                                  Enter
                                  {{
                                    teacherData.APPROVAL_STATUS == "R"
                                      ? "Reject"
                                      : "Blocked"
                                  }}
                                  Remark
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Please  Enter {{
                                    teacherData.APPROVAL_STATUS == 'R'
                                      ? 'Reject'
                                      : 'Blocked'
                                  }} Remark"
                                >
                                  <textarea
                                    rows="2"
                                    required
                                    nz-input
                                    maxlength="256"
                                    minlength="2"
                                    name="remark1"
                                    placeholder="Enter Remark"
                                    [(ngModel)]="
                                      teacherData.REJECT_BLOCKED_REMARK
                                    "
                                  ></textarea>
                                  <span
                                    style="color: red; font-size: 10px"
                                    *ngIf="teacherData.REJECT_BLOCKED_REMARK"
                                    >{{
                                      teacherData.REJECT_BLOCKED_REMARK.length
                                    }}/256</span
                                  >
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <!-- <div
                              nz-col
                              nzXs="24"
                              nzSm="24"
                              nzMd="24"
                              nzLg="24"
                              nzXl="8"
                            >
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon>
                                  Sequence No.
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip=" Please Enter Correct Sequence Number "
                                >
                                  <input
                                    nz-input
                                    placeholder="Sequence No."
                                    name="unitseq"
                                    style="width: 100%"
                                    minlength="1"
                                    maxlength="3"
                                    [(ngModel)]="teacherData.SEQ_NO"
                                    (keypress)="commonFunction.omit($event)"
                                    maxlength="5"
                                    required
                                  />
                                </nz-form-control>
                              </nz-form-item>
                            </div> -->

                            <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="8">
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzNoColon>Status</nz-form-label>
                                <nz-form-control>
                                  <nz-switch name="status" nzCheckedChildren="Yes" nzUnCheckedChildren="No"
                                    [(ngModel)]="teacherData.STATUS"></nz-switch>
                                </nz-form-control>
                              </nz-form-item>
                            </div> -->
                          </div>
                        </div>
                      </nz-spin>
                    </form>

                    <div class="footer">
                      <button
                        type="button"
                        nz-button
                        (click)="closeTeacher()"
                        class="ant-btn"
                        style="margin-right: 8px"
                      >
                        <span>Cancel</span>
                      </button>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        *ngIf="!teacherData.ID"
                        nz-button
                        nz-dropdown
                        [nzDropdownMenu]="menu"
                        [nzLoading]="teacherIsSpinning"
                        (click)="teacherSave(false, Teacher)"
                      >
                        <span>Save & Close</span>
                      </button>
                      <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                          <li
                            nz-menu-item
                            class="menuc"
                            style="
                              border-radius: 4px;
                              background-color: #40a9ff;
                            "
                          >
                            <a
                              style="color: white"
                              (click)="teacherSave(true, Teacher)"
                              >Save & New</a
                            >
                          </li>
                        </ul>
                      </nz-dropdown-menu>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        nz-button
                        [nzLoading]="teacherIsSpinning"
                        *ngIf="teacherData.ID"
                        (click)="teacherSave(false, Teacher)"
                      >
                        <span>Update & close</span>
                      </button>
                    </div>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>

            <nz-modal
              [(nzVisible)]="teacherVisible"
              [nzTitle]="modalTitle"
              [nzContent]="modalContent"
              [nzFooter]="modalFooter"
              (nzOnCancel)="handleCancelTeacher()"
              [nzWidth]="500"
              nzMask="false"
            >
              <ng-template #modalTitle>Teacher Details </ng-template>
              <ng-template #modalContent>
                <div id="print" class="classCss">
                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b style="color: #333">School Name</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ TEACHER_DATALIST.SCHOOL_NAME }}</span>
                            </div>
                          </div>
                        </div>

                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b style="color: #333">Teacher Name</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ TEACHER_DATALIST.NAME }}</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b style="color: #333">Email Id</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ TEACHER_DATALIST.EMAIL_ID }}</span>
                            </div>
                          </div>
                        </div>

                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b style="color: #333">Mobile Number</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ TEACHER_DATALIST.MOBILE_NUMBER }}</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b style="color: #333"> DOB</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{
                                TEACHER_DATALIST.DOB | date : "dd/MMM/yyyy"
                              }}</span>
                            </div>
                          </div>
                        </div>

                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b style="color: #333">Gender</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>
                                <span *ngIf="TEACHER_DATALIST['GENDER'] == 'M'"
                                  >Male</span
                                >
                                <span *ngIf="TEACHER_DATALIST['GENDER'] == 'F'"
                                  >Female</span
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="classCss">
                  <div nz-row *ngIf="StatusButton == 'P'">
                    <div nz-col nzSpan="24">
                      <nz-radio-group
                        name="availfor"
                        style="margin-top: 23px"
                        [(ngModel)]="TEACHER_DATALIST.APPROVAL_STATUS"
                        required
                      >
                        <label nz-radio [nzValue]="'A'">Approve </label>
                        <label nz-radio [nzValue]="'R'">Reject</label>
                      </nz-radio-group>
                    </div>
                    <div
                      nz-col
                      nzSpan="24"
                      *ngIf="TEACHER_DATALIST.APPROVAL_STATUS == 'R'"
                      class="custom-css-form-item"
                    >
                      <nz-form-item class="nz-form-item">
                        <nz-form-label nzRequired nzNoColon>
                          Enter
                          {{
                            TEACHER_DATALIST.APPROVAL_STATUS == "R"
                              ? "Reject"
                              : "Blocked"
                          }}
                          Remark
                        </nz-form-label>
                        <nz-form-control
                          nzHasFeedback
                          nzErrorTip="Please  Enter {{
                            TEACHER_DATALIST.APPROVAL_STATUS == 'R'
                              ? 'Reject'
                              : 'Blocked'
                          }} Remark"
                        >
                          <textarea
                            rows="2"
                            required
                            nz-input
                            maxlength="256"
                            minlength="2"
                            name="remark1"
                            placeholder="Enter Remark"
                            [(ngModel)]="TEACHER_DATALIST.REJECT_BLOCKED_REMARK"
                          ></textarea>
                          <span
                            style="color: red; font-size: 10px"
                            *ngIf="TEACHER_DATALIST.REJECT_BLOCKED_REMARK"
                            >{{
                              TEACHER_DATALIST.REJECT_BLOCKED_REMARK.length
                            }}/256</span
                          >
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                  </div>
                </div>
              </ng-template>
              <ng-template #modalFooter>
                <button
                  nz-button
                  nzType="default"
                  (click)="handleCancelTeacher()"
                >
                  Cancel
                </button>
                <button
                  *ngIf="StatusButton == 'P'"
                  nz-button
                  nzType="primary"
                  (click)="SubmitStatusTeacher()"
                >
                  Submit Status
                </button>
              </ng-template>
            </nz-modal>
          </div>

          <!-- Division -->
          <div *ngIf="current == 1">
            <div nz-row nzType="flex" style="margin-top: 20px">
              <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="12">
                <!-- <div class="formname">
                  <b> {{ divisionFormTitle }} </b>
                </div> -->
              </div>

              <div
                nz-col
                nzXs="24"
                nzSm="24"
                nzMd="4"
                nzLg="6"
                nzXl="12"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="search"
                        (keyup)="divisionkeyup($event)"
                        [(ngModel)]="divisionSearchText"
                        nz-input
                        placeholder="Search"
                      />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="searchDivision(true)"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>
                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="addDivision()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add Division
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>

            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-table
                  class="my-scroll no-wrap1"
                  nzBordered
                  #divisionTable
                  nzShowSizeChanger
                  [nzFrontPagination]="false"
                  [nzData]="divisionDataList"
                  [nzLoading]="divisionLoadingRecords"
                  [nzSize]="'small'"
                  [nzTotal]="divisionTotalRecords"
                  [(nzPageIndex)]="divisionPageIndex"
                  [(nzPageSize)]="divisionPageSize"
                  (nzPageIndexChange)="searchDivision()"
                  (nzPageSizeChange)="searchDivision(true)"
                  (nzQueryParams)="sortDivision($event)"
                  [nzScroll]="{ x: '800px', y: '30vh' }"
                >
                  <thead>
                    <tr>
                      <th nzWidth="30px" style="text-align: center">
                        <b>Action</b>
                      </th>
                      <th nzWidth="40px" nzLeft>Delete</th>
                      <th
                        nzWidth="210px"
                        nzColumnKey="{{ 'NAME' }}"
                        style="text-align: center"
                        [nzSortFn]="true"
                      >
                        <b> Division Name </b>
                      </th>

                      <!-- <th nzWidth="40px" nzColumnKey="{{ 'SEQ_NO' }}" style="text-align: center" [nzSortFn]="true">
                        <b> Sequence No </b>
                      </th> -->
                      <!-- <th nzWidth="40px" nzColumnKey="{{ 'STATUS' }}" style="text-align: center" [nzSortFn]="true">
                        <b>Status</b>
                      </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of divisionTable.data">
                      <td style="text-align: center">
                        <i
                          nz-icon
                          nzType="edit"
                          nz-tooltip
                          nzTooltipTitle="Edit"
                          nzTheme="twotone"
                          (click)="editDivision(data)"
                        ></i>
                      </td>
                      <td nzLeft style="text-align: center">
                        <a nz-tooltip nzTooltipTitle="Delete">
                          <span
                            nz-icon
                            nz-popconfirm
                            nzPopconfirmTitle="Are you sure You Want to delete data?"
                            nzOkText="Ok"
                            nzCancelText="Cancel"
                            (nzOnConfirm)="OnConfirmDeleteDivision(data)"
                            nzType="delete"
                            style="
                              cursor: pointer;
                              color: blue;
                              margin-right: 5px;
                            "
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td style="white-space: pre-line">
                        {{ data["NAME"] }}
                      </td>
                      <!-- <td style="white-space: pre-line; text-align: center">
                        {{ data["SEQ_NO"] }}
                      </td> -->
                      <!-- <td style="text-align: center">
                        <i nz-icon *ngIf="data['STATUS']" [nzType]="'check-circle'" [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#52c41a'"></i>
                        <i nz-icon *ngIf="!data['STATUS']" [nzType]="'close-circle'" [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#f50'"></i>
                      </td> -->
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>

            <div *ngIf="divisionDrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="500"
                [nzVisible]="divisionDrawerVisible"
                [nzTitle]="divisionDrawerTitle"
                (nzOnClose)="drawerCloseDivision()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <!-- <form nz-form #form32> -->
                    <form nz-form #divisionPage="ngForm">
                      <nz-spin [nzSpinning]="isSpinningDivision">
                        <div nz-row class="custom-form-item">
                          <div nz-col nzSpan="24">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon
                                >Division Name</nz-form-label
                              >
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Enter Division Name"
                              >
                                <input
                                  nz-input
                                  name="name"
                                  autocomplete="off"
                                  (keypress)="commonFunction.alphaOnly($event)"
                                  [(ngModel)]="divisionDrawerData.NAME"
                                  placeholder="Enter Division Name"
                                  maxlength="128"
                                  required
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="14">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                School Name
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Select Valid School Name"
                              >
                                <nz-select
                                  nzShowArrow="true"
                                  nzShowSearch
                                  nzAllowClear
                                  name="Schoolselect"
                                  [(ngModel)]="divisionDrawerData.SCHOOL_ID"
                                  nzPlaceHolder="Select School"
                                >
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->

                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="10">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon> Class  </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Select Valid Class "
                              >
                                <nz-select
                                  nzShowArrow="true"
                                  nzShowSearch
                                  nzAllowClear
                                  name="classselect"
                                  [(ngModel)]="divisionDrawerData.CLASS_ID"
                                  nzPlaceHolder="Select Class"
                                >
                                <nz-option *ngFor="let class of classList" [nzValue]="class.ID" [nzLabel]="class.NAME"></nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->
                          <div nz-col nzSpan="8">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon
                                >Sequence No
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Enter Sequence No"
                              >
                                <input
                                  nz-input
                                  name="seqno"
                                  style="width: 100%"
                                  autocomplete="off"
                                  [(ngModel)]="divisionDrawerData.SEQ_NO"
                                  (keypress)="commonFunction.omit($event)"
                                  maxlength="5"
                                  placeholder="Enter Sequence No"
                                  required
                                  disabled
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <!-- <div nz-col nzSpan="6">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzNoColon>Status</nz-form-label>
                              <nz-form-control>
                                <nz-switch name="is_active" [(ngModel)]="divisionDrawerData.STATUS"
                                  nzCheckedChildren="Yes" nzUnCheckedChildren="No"></nz-switch>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->
                        </div>
                      </nz-spin>
                    </form>
                  </div>

                  <div class="footer">
                    <button
                      type="button"
                      nz-button
                      (click)="divisionClose()"
                      class="ant-btn"
                      style="margin-right: 8px"
                    >
                      <span>Close</span>
                    </button>
                    <button
                      type="button"
                      class="ant-btn ant-btn-primary"
                      *ngIf="!divisionDrawerData.ID"
                      nz-button
                      nz-dropdown
                      [nzDropdownMenu]="menu"
                      [nzLoading]="isSpinningDivision"
                      (click)="saveDivision(false, divisionPage)"
                    >
                      <span>Save And Close</span>
                    </button>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                      <ul nz-menu>
                        <li
                          nz-menu-item
                          class="menuc"
                          style="border-radius: 4px; background-color: #40a9ff"
                        >
                          <a
                            style="color: white"
                            (click)="saveDivision(true, divisionPage)"
                            >Save And New</a
                          >
                        </li>
                      </ul>
                    </nz-dropdown-menu>
                    <button
                      type="button"
                      class="ant-btn ant-btn-primary"
                      nz-button
                      [nzLoading]="isSpinningDivision"
                      *ngIf="divisionDrawerData.ID"
                      (click)="saveDivision(false, divisionPage)"
                    >
                      <span>Update And Close</span>
                    </button>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>
          </div>

          <!-- Medium -->

          <div *ngIf="current == 2">
            <div nz-row nzType="flex" style="margin-top: 20px">
              <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="8">
                <!-- <div class="formname">
                  <b> {{ mediumFormTitle }} </b>
                </div> -->
              </div>

              <div
                nz-col
                nzXs="24"
                nzSm="24"
                nzMd="4"
                nzLg="6"
                nzXl="16"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="search"
                        nz-input
                        placeholder="Search Records"
                        (keyup)="mediumkeyup($event)"
                        [(ngModel)]="mediumSearchText"
                      />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="searchMedium(true)"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>
                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="addMedium()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add New Medium
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>

            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-table
                  class="my-scroll no-wrap1"
                  nzBordered
                  #mediummaster
                  nzShowSizeChanger
                  [nzFrontPagination]="false"
                  [nzData]="mediumDataList"
                  [nzLoading]="mediumLoadingRecords"
                  nzSize="small"
                  [nzTotal]="mediumTotalRecords"
                  [(nzPageIndex)]="mediumPageIndex"
                  [(nzPageSize)]="mediumPageSize"
                  (nzPageIndexChange)="searchMedium()"
                  (nzPageSizeChange)="searchMedium(true)"
                  (nzQueryParams)="mediumSort($event)"
                  [nzScroll]="
                    screenwidth > 500
                      ? { y: '55vh' }
                      : { x: '800px', y: '30vh' }
                  "
                >
                  <thead>
                    <tr>
                      <th nzWidth="40px" nzLeft>Action</th>
                      <th nzWidth="40px" nzLeft>Delete</th>

                      <th
                        nzWidth="150px"
                        nzColumnKey="{{ 'NAME' }}"
                        [nzSortFn]="true"
                      >
                        Medium Name
                      </th>
                      <!-- <th nzColumnKey="{{ 'SEQ_NO' }}" [nzSortFn]="true" nzWidth="40px" style="text-align: center">
                        Seq. No.
                      </th> -->
                      <!-- <th
                        nzWidth="40px"
                        nzColumnKey="{{ 'STATUS' }}"
                        [nzSortFn]="true"
                      >
                        Status
                      </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of mediummaster.data">
                      <td align="center" nzLeft>
                        <a
                          (click)="editMedium(data)"
                          nz-tooltip
                          nzTooltipTitle="Edit"
                        >
                          <span
                            nz-icon
                            nzType="edit"
                            nzTheme="twotone"
                            style="font-size: 15px"
                          ></span>
                        </a>
                      </td>
                      <td nzLeft style="text-align: center">
                        <a nz-tooltip nzTooltipTitle="Delete">
                          <span
                            nz-icon
                            nz-popconfirm
                            nzPopconfirmTitle="Are you sure You Want to delete data?"
                            nzOkText="Ok"
                            nzCancelText="Cancel"
                            (nzOnConfirm)="OnConfirmDeleteMedium(data)"
                            nzType="delete"
                            style="cursor: pointer; color: blue; margin-right: 5px"
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td style="text-align: left; white-space: pre-line">
                        {{ data["NAME"] }}
                      </td>

                      <!-- <td style="text-align: center">
                        {{ data["SEQ_NO"] }}
                      </td> -->

                      <!-- <td align="center">
                        <i
                          nz-icon
                          *ngIf="data['STATUS']"
                          [nzType]="'check-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#52c41a'"
                        ></i>
                        <i
                          nz-icon
                          *ngIf="!data['STATUS']"
                          [nzType]="'close-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#f50'"
                        ></i>
                      </td> -->
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>

            <div *ngIf="mediumDrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="YearWidth"
                [nzVisible]="mediumDrawerVisible"
                [nzTitle]="mediumDrawerTitle"
                (nzOnClose)="closeMediumDrawer()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <form nz-form #Mediumdata="ngForm">
                      <nz-spin [nzSpinning]="isSpinningMedium">
                        <div nz-row>
                          <div nz-col nzSpan="24">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                Medium Name
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Please Enter Medium  Name"
                              >
                                <input
                                  nz-input
                                  name="name"
                                  placeholder="Enter Medium Name"
                                  minlength="1"
                                  [(ngModel)]="mediumDrawerData.NAME"
                                  maxlength="128"
                                  required
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col nzSpan="12">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                Sequence No.
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Enter Correct Sequence Number "
                              >
                                <input
                                  nz-input
                                  placeholder="Sequence No."
                                  name="unitseq"
                                  style="width: 100%"
                                  minlength="1"
                                  [(ngModel)]="mediumDrawerData.SEQ_NO"
                                  (keypress)="commonFunction.omit($event)"
                                  maxlength="5"
                                  required
                                  disabled
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <!-- <div nz-col nzSpan="8" style="margin-left: 6px">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzNoColon> Status </nz-form-label>
                              <nz-form-control>
                                <nz-switch
                                  name="medstatus"
                                  [(ngModel)]="mediumDrawerData.STATUS"
                                  nzCheckedChildren="Yes"
                                  nzUnCheckedChildren="No"
                                ></nz-switch>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->
                        </div>
                      </nz-spin>
                    </form>

                    <div class="footer">
                      <button
                        type="button"
                        nz-button
                        (click)="closeMediumDrawer()"
                        class="ant-btn"
                        style="margin-right: 8px"
                      >
                        <span> Cancel </span>
                      </button>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        *ngIf="!mediumDrawerData.ID"
                        nz-button
                        nz-dropdown
                        [nzDropdownMenu]="menu"
                        (click)="saveMedium(false, Mediumdata)"
                        [nzLoading]="isSpinningMedium"
                      >
                        <span> Save & Close</span>
                      </button>
                      <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                          <li
                            nz-menu-item
                            class="menuc"
                            style="
                              border-radius: 4px;
                              background-color: #40a9ff;
                            "
                          >
                            <a
                              style="color: white"
                              (click)="saveMedium(true, Mediumdata)"
                            >
                              Save & New</a
                            >
                          </li>
                        </ul>
                      </nz-dropdown-menu>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        nz-button
                        [nzLoading]="isSpinningMedium"
                        *ngIf="mediumDrawerData.ID"
                        (click)="saveMedium(false, Mediumdata)"
                      >
                        <span> Update & Close</span>
                      </button>
                    </div>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>
          </div>

          <!-- Fee Head -->

          <div *ngIf="current == 3">
            <div nz-row nzType="flex" style="margin-top: 20px">
              <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="8">
                <!-- <div class="formname">
                  <b> {{ formTitle }} </b>
                </div> -->
              </div>

              <div
                nz-col
                nzXs="24"
                nzSm="24"
                nzMd="4"
                nzLg="6"
                nzXl="16"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="postsearch"
                        (keyup)="feeHeadKeyUp($event)"
                        [(ngModel)]="feeHeadsearchText"
                        nz-input
                        placeholder="Search Record"
                      />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        id="button"
                        (click)="searchFeeHead(true)"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>
                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="addFeeHead()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add New Fee Head
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>

            <div nz-row>
              <div nz-row>
                <div nz-col nzSpan="24">
                  <nz-table
                    class="my-scroll no-wrap1"
                    nzBordered
                    #feeHeadTable
                    nzShowSizeChanger
                    [nzFrontPagination]="false"
                    [nzData]="feeHeaddataList"
                    [nzLoading]="feeHeadloadingRecords"
                    [nzTotal]="feeHeadtotalRecords"
                    [(nzPageIndex)]="feeHeadpageIndex"
                    [(nzPageSize)]="feeHeadpageSize"
                    (nzPageIndexChange)="searchFeeHead()"
                    (nzPageSizeChange)="searchFeeHead(true)"
                    (nzQueryParams)="feeHeadSort($event)"
                    [nzSize]="'small'"
                    [nzScroll]="{ y: '30vh' }"
                  >
                    <thead nzSingleSort>
                      <tr>
                        <th nzWidth="100px"><b>Action</b></th>
                        <th nzWidth="100px" nzLeft>Delete</th>
                        <th
                          nzShowSort
                          align="center"
                          nzColumnKey="{{ 'NAME' }}"
                          [nzSortFn]="true"
                        >
                          <b>Name</b>
                        </th>

                        <!-- <th
                          nzWidth="100px"
                          nzShowSort
                          nzColumnKey="{{ 'STATUS' }}"
                          [nzSortFn]="true"
                        >
                          <b>Status</b>
                        </th> -->
                      </tr>
                    </thead>

                    <tbody>
                      <tr *ngFor="let data of feeHeadTable.data">
                        <td nzLeft="0px" nzWidth="100px" align="center">
                          <a (click)="editFeeHead(data)">
                            <span
                              nz-icon
                              nzType="edit"
                              nzTheme="twotone"
                              style="font-size: 15px"
                            ></span>
                          </a>
                        </td>
                        <td nzLeft style="text-align: center">
                          <a nz-tooltip nzTooltipTitle="Delete">
                            <span
                              nz-icon
                              nz-popconfirm
                              nzPopconfirmTitle="Are you sure You Want to delete data?"
                              nzOkText="Ok"
                              nzCancelText="Cancel"
                              (nzOnConfirm)="OnConfirmDeleteFeeHead(data)"
                              nzType="delete"
                              style="cursor: pointer; color: blue; margin-right: 5px"
                              nzTheme="outline"
                            ></span>
                          </a>
                        </td>
                        <td style="text-align: left; white-space: pre-line">
                          {{ data["NAME"] }}
                        </td>

                        <!-- <td align="center">
                          <i
                            nz-icon
                            *ngIf="data['STATUS']"
                            [nzType]="'check-circle'"
                            [nzTheme]="'twotone'"
                            [nzTwotoneColor]="'#52c41a'"
                          ></i>

                          <i
                            nz-icon
                            *ngIf="!data['STATUS']"
                            [nzType]="'close-circle'"
                            [nzTheme]="'twotone'"
                            [nzTwotoneColor]="'#f50'"
                          ></i>
                        </td> -->
                      </tr>
                    </tbody>
                  </nz-table>
                </div>
              </div>
              <div *ngIf="drawerVisibleFeeHead">
                <nz-drawer
                  [nzBodyStyle]="{
                    height: 'calc(100% - 55px)',
                    overflow: 'auto',
                    'padding-bottom': '53px'
                  }"
                  [nzClosable]="true"
                  [nzMask]="true"
                  [nzMaskClosable]="false"
                  [nzWidth]="350"
                  [nzVisible]="drawerVisibleFeeHead"
                  [nzTitle]="drawerTitleFeeHead"
                  (nzOnClose)="feeHeadDrawerClose()"
                  (nzKeyboard)="(true)"
                >
                  <ng-container *nzDrawerContent>
                    <div>
                      <!-- <div class="header">
                        <button type="button" nz-button (click)="close()" class="ant-btn">
                          <i nz-icon nzType="close" nzTheme="outline"></i>
                        </button>
                      </div> -->

                      <form nz-form #feeHeadPage="ngForm">
                        <nz-spin [nzSpinning]="isSpinningFeeHead">
                          <div nz-row>
                            <div nz-col nzSpan="24">
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzRequired nzNoColon
                                  >Fee Head Name</nz-form-label
                                >

                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Please Enter Fee Head Name"
                                >
                                  <input
                                    nz-input
                                    name="name"
                                    required
                                    [(ngModel)]="feeHeadDrawerData.NAME"
                                    maxlength="256"
                                    autocomplete="off"
                                    placeholder="Enter Fee Head"
                                  />
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <!-- <div nz-col nzSpan="12">
                              <nz-form-item class="nz-form-item">
                                <nz-form-label nzNoColon>Status</nz-form-label>

                                <nz-form-control>
                                  <nz-switch
                                    nzCheckedChildren="Yes"
                                    nzUnCheckedChildren="No"
                                    name="status"
                                    [(ngModel)]="feeHeadDrawerData.STATUS"
                                  ></nz-switch>
                                </nz-form-control>
                              </nz-form-item>
                            </div> -->
                          </div>
                        </nz-spin>
                      </form>

                      <div class="footer">
                        <button
                          type="button"
                          nz-button
                          (click)="feeHeadClose()"
                          class="ant-btn"
                          style="margin-right: 8px"
                        >
                          <span>Cancel</span>
                        </button>
                        <button
                          type="button"
                          class="ant-btn ant-btn-primary"
                          *ngIf="!feeHeadDrawerData.ID"
                          nz-button
                          nz-dropdown
                          [nzDropdownMenu]="menu"
                          [nzLoading]="isSpinningFeeHead"
                          (click)="feeHeadsave(false, feeHeadPage)"
                        >
                          <span>Save & Close</span>
                        </button>
                        <nz-dropdown-menu #menu="nzDropdownMenu">
                          <ul nz-menu>
                            <li
                              nz-menu-item
                              class="menuc"
                              style="
                                border-radius: 4px;
                                background-color: #40a9ff;
                              "
                            >
                              <a
                                style="color: white"
                                (click)="feeHeadsave(true, feeHeadPage)"
                                >Save & New</a
                              >
                            </li>
                          </ul>
                        </nz-dropdown-menu>
                        <button
                          type="button"
                          class="ant-btn ant-btn-primary"
                          nz-button
                          [nzLoading]="isSpinningFeeHead"
                          *ngIf="feeHeadDrawerData.ID"
                          (click)="feeHeadsave(false, feeHeadPage)"
                        >
                          <span>Update & Close</span>
                        </button>
                      </div>
                    </div>
                  </ng-container>
                </nz-drawer>
              </div>
            </div>
          </div>

          <!-- Class -->

          <div *ngIf="current == 4">
            <div nz-row nzType="flex" style="margin-top: 20px">
              <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="12">
                <!-- <div class="formname">
                  <b> {{ formTitle }} </b>
                </div> -->
              </div>

              <div
                nz-col
                nzXs="24"
                nzSm="24"
                nzMd="4"
                nzLg="6"
                nzXl="12"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="search"
                        (keyup)="Classkeyup($event)"
                        [(ngModel)]="ClassSearchText"
                        nz-input
                        placeholder="Search"
                      />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="Classsearch(true)"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>

                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="Classadd()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add Class
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>

            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-table
                  class="my-scroll no-wrap1"
                  nzBordered
                  #postTable
                  nzShowSizeChanger
                  [nzFrontPagination]="false"
                  [nzData]="ClassDataList"
                  [nzLoading]="ClassLoadingRecords"
                  [nzSize]="'small'"
                  [nzTotal]="ClassTotalRecords"
                  [(nzPageIndex)]="ClassPageIndex"
                  [(nzPageSize)]="ClassPageSize"
                  (nzPageIndexChange)="Classsearch()"
                  (nzPageSizeChange)="Classsearch(true)"
                  (nzQueryParams)="Classsort($event)"
                  [nzScroll]="{ x: '1100', y: '55vh' }"
                >
                  <thead>
                    <tr>
                      <th nzWidth="35px" style="text-align: center">
                        <b>Action</b>
                      </th>
                      <th nzWidth="40px" nzLeft>Delete</th>

                      <th nzWidth="40px" style="text-align: center">
                        <b>Fee Map</b>
                      </th>
                      <th nzWidth="50px" style="text-align: center">
                        <b>Teacher Map</b>
                      </th>
                      <th nzWidth="50px" style="text-align: center">
                        <b>Student Map</b>
                      </th>

                      <th nzWidth="60px" style="text-align: center">
                        <b>Promote Student</b>
                      </th>

                      <th
                        nzWidth="120px"
                        nzColumnKey="{{ 'NAME' }}"
                        style="text-align: center"
                        [nzSortFn]="true"
                      >
                        <b>Class Name</b>
                      </th>

                      <!-- <th nzWidth="40px" nzColumnKey="{{ 'SEQ_NO' }}" style="text-align: center" [nzSortFn]="true">
                        <b>Seq No.</b>
                      </th> -->
                      <!-- <th
                        nzWidth="35px"
                        nzColumnKey="{{ 'STATUS' }}"
                        style="text-align: center"
                        [nzSortFn]="true"
                      >
                        <b>Status</b>
                      </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of postTable.data">
                      <td align="center" nzLeft>
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="editClassData(data)"
                            nz-tooltip
                            nzTooltipTitle="Edit"
                          >
                            <span
                              nz-icon
                              nzType="edit"
                              nzTheme="twotone"
                              style="font-size: 15px"
                            ></span>
                          </a>
                        </nz-space>
                      </td>
                      <td nzLeft style="text-align: center">
                        <a nz-tooltip nzTooltipTitle="Delete">
                          <span
                            nz-icon
                            nz-popconfirm
                            nzPopconfirmTitle="Are you sure You Want to delete data?"
                            nzOkText="Ok"
                            nzCancelText="Cancel"
                            (nzOnConfirm)="OnConfirmDeleteClass(data)"
                            nzType="delete"
                            style="cursor: pointer; color: blue; margin-right: 5px"
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td align="center" nzLeft>
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="addClassFeeMap(data)"
                            nz-tooltip
                            nzTooltipTitle="Fee Map"
                          >
                            <span
                              nz-icon
                              nzType="form"
                              nzTheme="outline"
                              style="
                                font-size: 15px;
                                color: #0d6efd;
                                margin-left: 10px;
                              "
                            ></span>
                          </a>
                        </nz-space>
                      </td>
                      <td align="center" nzLeft>
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="MapTeacher(data)"
                            nz-tooltip
                            nzTooltipTitle="Teacher Map"
                          >
                            <span
                              nz-icon
                              nzType="form"
                              nzTheme="outline"
                              style="
                                font-size: 15px;
                                color: #0d6efd;
                                margin-left: 10px;
                              "
                            ></span>
                          </a>
                        </nz-space>
                      </td>
                      <td align="center" nzLeft>
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="Classexceldraweropen(data)"
                            nz-tooltip
                            nzTooltipTitle="Student Map"
                          >
                            <span
                              nz-icon
                              nzType="form"
                              nzTheme="outline"
                              style="
                                font-size: 15px;
                                color: #0d6efd;
                                margin-left: 10px;
                              "
                            ></span>
                          </a>
                        </nz-space>
                      </td>

                      <td align="center" nzLeft>
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="promotestudent(data)"
                            nz-tooltip
                            nzTooltipTitle="Promote student"
                          >
                            Promote student
                          </a>
                        </nz-space>
                      </td>
                      <td style="white-space: pre-line">{{ data["NAME"] }}</td>

                      <!-- <td style="white-space: pre-line; text-align: center">
                        {{ data["SEQ_NO"] }}
                      </td> -->
                      <!-- <td style="text-align: center">
                        <i
                          nz-icon
                          *ngIf="data['STATUS']"
                          [nzType]="'check-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#52c41a'"
                        ></i>
                        <i
                          nz-icon
                          *ngIf="!data['STATUS']"
                          [nzType]="'close-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#f50'"
                        ></i>
                      </td> -->
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>

            <!-- ClassDrawerVisible -->
            <div *ngIf="ClassDrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="450"
                [nzVisible]="ClassDrawerVisible"
                [nzTitle]="ClassDrawerTitle"
                (nzOnClose)="ClassdrawerClose()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <!-- <form nz-form #form32> -->
                    <form nz-form #websitebannerPage="ngForm">
                      <nz-spin [nzSpinning]="isSpinning">
                        <div nz-row class="custom-form-item">
                          <div nz-col nzSpan="24">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon
                                >Class Name</nz-form-label
                              >
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Enter Class Name"
                              >
                                <input
                                  nz-input
                                  name="name"
                                  autocomplete="off"
                                  required
                                  placeholder="Enter Class Name"
                                  maxlength="128"
                                  [(ngModel)]="ClassDrawerData.NAME"
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzSpan="24">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon
                                >Question Class</nz-form-label
                              >
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Select Question Class"
                              >
                                <nz-select
                                  nz-input
                                  nzAllowClear
                                  nzShowSearch
                                  name="questionClassselect"
                                  style="width: 100%"
                                  nzPlaceHolder="Select Question Class"
                                  [(ngModel)]="
                                    ClassDrawerData.QUESTION_CLASS_ID
                                  "
                                  [nzLoading]="loadQuestionClass"
                                  required
                                >
                                  <nz-option
                                    [nzValue]="0"
                                    nzLabel="NA"
                                  ></nz-option>
                                  <nz-option
                                    *ngFor="let quest of QuestionClassList"
                                    [nzValue]="quest.ID"
                                    [nzLabel]="quest.NAME"
                                  ></nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col nzSpan="12">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon
                                >Sequence No
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Enter Sequence No"
                              >
                                <input
                                  nz-input
                                  name="seqno"
                                  style="width: 100%"
                                  autocomplete="off"
                                  [(ngModel)]="ClassDrawerData.SEQ_NO"
                                  placeholder="Enter Sequence No"
                                  (keypress)="commonFunction.omit($event)"
                                  maxlength="5"
                                  required
                                  disabled
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <!-- <div nz-col nzSpan="8">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzNoColon>Status</nz-form-label>
                              <nz-form-control>
                                <nz-switch
                                  name="is_active"
                                  [(ngModel)]="ClassDrawerData.STATUS"
                                  nzCheckedChildren="Yes"
                                  nzUnCheckedChildren="No"
                                ></nz-switch>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->
                        </div>
                      </nz-spin>
                    </form>
                  </div>

                  <div class="footer">
                    <button
                      type="button"
                      nz-button
                      (click)="ClassdrawerClose()"
                      class="ant-btn"
                      style="margin-right: 8px"
                    >
                      <span>Close</span>
                    </button>
                    <button
                      type="button"
                      class="ant-btn ant-btn-primary"
                      *ngIf="!ClassDrawerData.ID"
                      nz-button
                      nz-dropdown
                      [nzDropdownMenu]="menu"
                      [nzLoading]="isSpinning"
                      (click)="classsave(false, websitebannerPage)"
                    >
                      <span>Save And Close</span>
                    </button>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                      <ul nz-menu>
                        <li
                          nz-menu-item
                          class="menuc"
                          style="border-radius: 4px; background-color: #40a9ff"
                        >
                          <a
                            style="color: white"
                            (click)="classsave(true, websitebannerPage)"
                            >Save And New</a
                          >
                        </li>
                      </ul>
                    </nz-dropdown-menu>
                    <button
                      type="button"
                      class="ant-btn ant-btn-primary"
                      nz-button
                      [nzLoading]="isSpinning"
                      *ngIf="ClassDrawerData.ID"
                      (click)="classsave(false, websitebannerPage)"
                    >
                      <span>Update And Close</span>
                    </button>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>

            <!-- Classexceldrawervisible -->
            <nz-drawer
              [nzBodyStyle]="{
                height: 'calc(100% - 55px)',
                overflow: 'auto',
                'padding-bottom': '53px'
              }"
              [nzClosable]="true"
              [nzMask]="true"
              [nzMaskClosable]="false"
              [nzWidth]="1100"
              [nzVisible]="Classexceldrawervisible"
              [nzTitle]="exceldrawerTitle"
              (nzOnClose)="ClassexceldrawerClose()"
              (nzKeyboard)="(true)"
            >
              <ng-container *nzDrawerContent>
                <div>
                  <form nz-form #classstudentimport="ngForm">
                    <div
                      nz-row
                      class="custom-form-item11"
                      style="display: flex; justify-content: center"
                    >
                      <div nz-col nzSpan="3"></div>
                      <div nz-col nzSpan="6">
                        <nz-form-item>
                          <nz-form-label nzRequired nzNoColon>
                            Year
                          </nz-form-label>
                          <nz-form-control nzHasFeedback>
                            <nz-select
                              nzShowArrow="true"
                              nzShowSearch
                              nzAllowClear
                              name="year"
                              [(ngModel)]="dataMapping.YEAR_ID"
                              nzPlaceHolder="Select Year"
                              required
                              (ngModelChange)="onYearChange($event)"
                            >
                              <nz-option
                                *ngFor="let year of yearlist"
                                [nzValue]="year.ID"
                                [nzLabel]="year.YEAR"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzSpan="6">
                        <nz-form-item>
                          <nz-form-label nzRequired nzNoColon
                            >Division</nz-form-label
                          >
                          <nz-form-control nzHasFeedback>
                            <nz-select
                              name="Division"
                              nzShowSearch
                              nzAllowClear
                              style="width: 100%"
                              nzPlaceHolder="Select Division"
                              [(ngModel)]="dataMapping.DIVISION_ID"
                              (ngModelChange)="onDivisionChange($event)"
                            >
                              <nz-option
                                *ngFor="let Div of divisionlist"
                                [nzValue]="Div.ID"
                                [nzLabel]="Div.NAME"
                              >
                              </nz-option>
                              <nz-option [nzValue]="0" [nzLabel]="'NA'">
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzSpan="6">
                        <nz-form-item>
                          <nz-form-label nzNoColon>Medium</nz-form-label>
                          <nz-form-control nzHasFeedback>
                            <nz-select
                              name="Medium"
                              nzShowSearch
                              nzAllowClear
                              style="width: 100%"
                              nzPlaceHolder="Select Medium"
                              [(ngModel)]="dataMapping.MEDIUM_ID"
                            >
                              <nz-option
                                *ngFor="let Div of Mediumlist"
                                [nzValue]="Div.ID"
                                [nzLabel]="Div.NAME"
                              >
                              </nz-option>
                              <nz-option [nzValue]="0" [nzLabel]="'NA'">
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzSpan="3"></div>
                    </div>

                    <div nz-row>
                      <div nz-col nzSpan="24">
                        <nz-spin [nzSpinning]="isSpinning">
                          <div
                            nz-row
                            style="
                              display: flex;
                              justify-content: center;
                              align-items: center;
                              gap: 10px;
                              padding-top: 10px;
                            "
                          >
                            <button
                              nz-button
                              style="border-radius: 5px"
                              nzType="primary"
                            >
                              <a href="assets/Studentimport.xlsx" download>
                                <span
                                  nz-icon
                                  nzType="download"
                                  nzTheme="outline"
                                ></span
                                >&nbsp;Download Sample Excel Sheet
                              </a>
                            </button>

                            <button
                              type="button"
                              nz-button
                              style="border-radius: 5px"
                              nzType="primary"
                              (click)="fileInput1.click()"
                              *ngIf="!enableExcel"
                            >
                              <input
                                #fileInput1
                                name="otherimage"
                                accept=".xlsx, .xls"
                                type="file"
                                (change)="FileSelect($event)"
                                style="display: none"
                              />Select Excel Sheet
                            </button>

                            <button
                              type="button"
                              nz-button
                              style="border-radius: 5px"
                              nzType="primary"
                              *ngIf="enableExcel"
                              (click)="OnDisableExcel()"
                            >
                              <input
                                name="otherimage"
                                style="display: none"
                              />Select Excel Sheet
                            </button>

                            <button
                              nz-popconfirm
                              style="border-radius: 5px"
                              nzType="primary"
                              [disabled]="
                                FILE_NAME == undefined ||
                                FILE_NAME == null ||
                                FILE_NAME == ''
                              "
                              nzPopconfirmTitle="Are you sure to upload this Student data?"
                              (nzOnConfirm)="classconfirm()"
                              (nzOnCancel)="classcancel()"
                              nzOkText="Yes"
                              nzCancelText="No"
                              nzPopconfirmPlacement="bottom"
                              nz-button
                            >
                              Upload Students Data
                            </button>

                            <button
                              (click)="clear()"
                              type="button"
                              nz-button
                              [disabled]="
                                FILE_NAME == undefined ||
                                FILE_NAME == null ||
                                FILE_NAME == ''
                              "
                              style="border-radius: 5px"
                              nzType="default"
                            >
                              Clear
                            </button>
                          </div>
                        </nz-spin>
                      </div>
                    </div>
                  </form>

                  <div nz-row style="margin-top: 10px">
                    <div nz-col nzSpan="24">
                      <nz-table
                        class="my-scroll no-wrap1 scrollbar"
                        nzBordered
                        *ngIf="FILE_NAME != null && FILE_NAME != undefined"
                        [nzFrontPagination]="false"
                        [nzData]="ExcelData"
                        [nzSize]="'small'"
                        [nzScroll]="{
                          x: arrayofheader.length > 9 ? '2000px' : '',
                          y: '390px'
                        }"
                        [nzLoading]="excelLoading"
                      >
                        <thead>
                          <tr>
                            <th
                              nzWidth="100px"
                              *ngFor="let data1 of arrayofheader"
                              style="text-align: center; font-weight: bold"
                            >
                              {{ data1 }}
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of ExcelData; let i = index">
                            <td
                              *ngFor="let head of arrayofheader"
                              style="white-space: pre-line; text-align: left"
                            >
                              {{ data[head] }}
                            </td>
                          </tr>
                        </tbody>
                      </nz-table>
                    </div>
                  </div>

                  <div class="footer">
                    <button
                      type="button"
                      nz-button
                      (click)="ClassexceldrawerClose()"
                      class="ant-btn"
                      style="margin-right: 8px"
                    >
                      <span> Cancel </span>
                    </button>
                  </div>
                </div>
              </ng-container>
            </nz-drawer>

            <!-- promotedrawerVisible -->
            <div *ngIf="promotedrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="1050"
                [nzVisible]="promotedrawerVisible"
                [nzTitle]="promotedrawerTitle"
                (nzOnClose)="promotedrawerClose()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <form nz-form #School="ngForm">
                      <nz-spin [nzSpinning]="promoteisSpinning">
                        <div nz-row class="custom-form-item11">
                          <div
                            class="my-box"
                            nz-col
                            nzXs="12"
                            nzSm="24"
                            nzMd="12"
                            nzLg="6"
                            nzXl="11"
                          >
                            <h3
                              style="
                                color: #1890ff;
                                font-size: 16px;
                                padding-left: 13px;
                              "
                            >
                              From
                            </h3>

                            <div nz-row class="custom-form-item11">
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="12"
                                nzLg="8"
                                nzXl="8"
                              >
                                <nz-form-item>
                                  <nz-form-label nzNoColon
                                    >Class
                                  </nz-form-label>
                                  <nz-form-control>
                                    <input
                                      nz-input
                                      name="totalfees"
                                      style="width: 100%"
                                      disabled
                                      [(ngModel)]="ClassDrawerData.NAME"
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="12"
                                nzLg="8"
                                nzXl="8"
                              >
                                <nz-form-item>
                                  <nz-form-label nzRequired nzNoColon
                                    >Division</nz-form-label
                                  >
                                  <nz-form-control nzHasFeedback>
                                    <nz-select
                                      name="Division"
                                      nzShowSearch
                                      nzAllowClear
                                      style="width: 100%"
                                      nzPlaceHolder="Select Division"
                                      [(ngModel)]="promotedata.DIVISION_ID"
                                      (ngModelChange)="ChangeDivision($event)"
                                    >
                                      <nz-option
                                        *ngFor="let Div of divisionlist"
                                        [nzValue]="Div.ID"
                                        [nzLabel]="Div.NAME"
                                      >
                                      </nz-option>
                                      <nz-option nzValue="0" [nzLabel]="'NA'">
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="12"
                                nzLg="8"
                                nzXl="8"
                              >
                                <nz-form-item>
                                  <nz-form-label nzNoColon>
                                    Year
                                  </nz-form-label>
                                  <nz-form-control nzHasFeedback>
                                    <nz-select
                                      nzShowArrow="true"
                                      nzShowSearch
                                      nzAllowClear
                                      name="year"
                                      [(ngModel)]="promotedata.YEAR"
                                      nzPlaceHolder="Select Year"
                                      (ngModelChange)="ChangedYear($event)"
                                    >
                                      <nz-option
                                        *ngFor="let year of yearlist"
                                        [nzValue]="year.ID"
                                        [nzLabel]="year.YEAR"
                                      >
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                          </div>
                          <div nz-col nzSpan="1"></div>
                          <div
                            class="my-box"
                            nz-col
                            nzXs="12"
                            nzSm="24"
                            nzMd="12"
                            nzLg="6"
                            nzXl="12"
                          >
                            <h3
                              style="
                                color: #1890ff;
                                font-size: 16px;
                                padding-left: 13px;
                              "
                            >
                              To
                            </h3>

                            <div nz-row class="custom-form-item11">
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="12"
                                nzLg="8"
                                nzXl="8"
                              >
                                <nz-form-item>
                                  <nz-form-label nzRequired nzNoColon>
                                    Year
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip=" Please Select   Year"
                                  >
                                    <nz-select
                                      nzShowArrow="true"
                                      nzShowSearch
                                      nzAllowClear
                                      name="promoteyear"
                                      [(ngModel)]="promotedata.YEAR_ID"
                                      nzPlaceHolder="Select  Year"
                                      required
                                    >
                                      <nz-option
                                        *ngFor="let year of yearlist"
                                        [nzValue]="year.ID"
                                        [nzLabel]="year.YEAR"
                                      >
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="12"
                                nzLg="8"
                                nzXl="8"
                              >
                                <nz-form-item>
                                  <nz-form-label nzRequired nzNoColon>
                                    Class
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip=" Please Select Valid Class"
                                  >
                                    <nz-select
                                      nzShowArrow="true"
                                      nzShowSearch
                                      nzAllowClear
                                      name="class"
                                      [(ngModel)]="promotedata.CLASS_ID"
                                      nzPlaceHolder="Select Class"
                                      required
                                    >
                                      <nz-option
                                        *ngFor="let class of Classes"
                                        [nzValue]="class.ID"
                                        [nzLabel]="class.NAME"
                                      >
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="12"
                                nzLg="8"
                                nzXl="8"
                              >
                                <nz-form-item>
                                  <nz-form-label nzRequired nzNoColon
                                    >Division</nz-form-label
                                  >
                                  <nz-form-control nzHasFeedback>
                                    <nz-select
                                      name="Division1"
                                      nzShowSearch
                                      nzAllowClear
                                      style="width: 100%"
                                      nzPlaceHolder="Select Division"
                                      [(ngModel)]="tempdivison"
                                    >
                                      <nz-option
                                        *ngFor="let Div of divisionlist"
                                        [nzValue]="Div.ID"
                                        [nzLabel]="Div.NAME"
                                      >
                                      </nz-option>
                                      <nz-option nzValue="0" [nzLabel]="'NA'">
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div nz-row>
                          <div nz-col nzSpan="24">
                            <nz-table
                              class="my-scroll no-wrap1"
                              nzBordered
                              #promote
                              [nzData]="Promotestudent"
                              [nzFrontPagination]="false"
                              [nzLoading]="promoteloadingRecords"
                              [nzSize]="'small'"
                              [nzScroll]="{ x: '800px', y: '55vh' }"
                            >
                              <thead>
                                <tr>
                                  <th
                                    nzLeft
                                    nzWidth="30px"
                                    style="
                                      font-weight: bold;
                                      text-align: center;
                                    "
                                    [(nzChecked)]="checked"
                                    (nzCheckedChange)="onAllChecked($event)"
                                  >
                                    Select All
                                  </th>
                                  <th nzWidth="70px">Class Name</th>
                                  <th nzWidth="100px">Student Name</th>
                                  <th nzWidth="30px">Gender</th>
                                  <th nzWidth="40px">Mobile No.</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let data of promote.data">
                                  <td
                                    nzLeft
                                    style="text-align: center"
                                    [nzChecked]="setOfCheckedId.has(data.ID)"
                                    (nzCheckedChange)="
                                      onItemChecked(data.ID, $event)
                                    "
                                  ></td>
                                  <td
                                    style="
                                      white-space: pre-line;
                                      text-align: left;
                                    "
                                  >
                                    {{ data["CLASS_NAME"] }}
                                  </td>

                                  <td
                                    style="
                                      text-align: left;
                                      white-space: pre-line;
                                    "
                                  >
                                    {{ data["STUDENT_NAME"] }}
                                  </td>
                                  <td style="text-align: left">
                                    <span *ngIf="data['GENDER'] == 'M'"
                                      >Male</span
                                    >
                                    <span *ngIf="data['GENDER'] == 'F'"
                                      >Female</span
                                    >
                                    <span *ngIf="data['GENDER'] == 'O'"
                                      >Other</span
                                    >
                                  </td>
                                  <td
                                    style="
                                      text-align: center;
                                      white-space: pre-line;
                                    "
                                  >
                                    {{ data["MOBILE_NUMBER"] }}
                                  </td>
                                </tr>
                              </tbody>
                            </nz-table>
                          </div>
                        </div>
                      </nz-spin>
                    </form>

                    <div class="footer">
                      <button
                        type="button"
                        nz-button
                        (click)="Promoteclose()"
                        class="ant-btn"
                        style="margin-right: 8px"
                        [nzLoading]="promoteisSpinning"
                      >
                        <span>Cancel</span>
                      </button>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        nz-button
                        nz-dropdown
                        (click)="Promotesave()"
                        [nzLoading]="promoteisSpinning"
                      >
                        <span>Promote & Close</span>
                      </button>
                    </div>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>

            <!-- Teacher Map -->

            <div *ngIf="TeacherdrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="800"
                [nzVisible]="TeacherdrawerVisible"
                [nzTitle]="TeacherdrawerTitle"
                (nzOnClose)="TeacherMapdrawerClose()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div style="display: flex; justify-content: right">
                    <nz-form-item>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="addClassSubject()"
                        nzJustify="end"
                      >
                        <i nz-icon nzType="plus"></i>Add Subject
                      </button>
                    </nz-form-item>
                  </div>
                  <div>
                    <nz-spin [nzSpinning]="promoteisSpinning">
                      <form nz-form #formData="ngForm">
                        <div class="my-box">
                          <div nz-row class="custom-form-item11">
                            <div nz-col nzSpan="5">
                              <nz-form-item>
                                <nz-form-label nzNoColon
                                  >Class Name
                                </nz-form-label>
                                <nz-form-control
                                  nzHasFeedback
                                  nzErrorTip="Enter Class Name"
                                >
                                  <input
                                    nz-input
                                    name="class"
                                    style="width: 100%"
                                    autocomplete="off"
                                    [(ngModel)]="TeacherMapData.CLASS_NAME"
                                    placeholder=" Enter Class Name"
                                    disabled="true"
                                    required
                                  />
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzSpan="5">
                              <nz-form-item>
                                <nz-form-label nzRequired nzNoColon
                                  >Division</nz-form-label
                                >
                                <nz-select
                                  name="Division"
                                  (ngModelChange)="ChangedDivision($event)"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Select Division"
                                  [(ngModel)]="TeacherMapData.DIVISION_ID"
                                  [nzLoading]="loadDivision"
                                >
                                  <nz-option nzValue="0" [nzLabel]="'NA'">
                                  </nz-option>
                                  <nz-option
                                    *ngFor="let Div of divisionlist"
                                    [nzValue]="Div.ID"
                                    [nzLabel]="Div.NAME"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-item>
                            </div>

                            <div nz-col nzSpan="5">
                              <nz-form-item>
                                <nz-form-label nzRequired nzNoColon
                                  >Year</nz-form-label
                                >
                                <nz-select
                                  name="Year"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Select Year"
                                  [(ngModel)]="TeacherMapData.YEAR_ID"
                                  (ngModelChange)="ChangedYearTeacher($event)"
                                  [nzLoading]="loadYearData"
                                >
                                  <nz-option
                                    *ngFor="let Year of yearlist"
                                    [nzValue]="Year.ID"
                                    [nzLabel]="Year.YEAR"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-item>
                            </div>

                            <div nz-col nzSpan="9">
                              <nz-form-item>
                                <nz-form-label nzRequired nzNoColon
                                  >Class Teacher</nz-form-label
                                >
                                <nz-select
                                  name="Teacher1"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Select Class Teacher"
                                  [(ngModel)]="TeacherMapData.CLASS_TEACHER_ID"
                                  [nzLoading]="loadTeacher"
                                >
                                  <nz-option
                                    *ngFor="let Year of Teacherlist"
                                    [nzValue]="Year.ID"
                                    [nzLabel]="Year.NAME"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-item>
                            </div>
                          </div>
                        </div>
                      </form>

                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <nz-table
                            class="my-scroll no-wrap1"
                            nzBordered
                            #teacherdata
                            [nzData]="MapTeacherDATA"
                            [nzFrontPagination]="false"
                            [nzLoading]="TeacherloadingRecords"
                            [nzSize]="'small'"
                            [nzScroll]="{ x: '600px', y: '55vh' }"
                          >
                            <thead>
                              <tr>
                                <th nzWidth="80px">Subject Name</th>
                                <th nzWidth="50px">Subject Teacher</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr
                                *ngFor="
                                  let data of teacherdata.data;
                                  let i = index
                                "
                              >
                                <td
                                  style="
                                    white-space: pre-line;
                                    text-align: left;
                                  "
                                >
                                  {{ data["NAME"] }}
                                </td>

                                <td
                                  style="
                                    text-align: left;
                                    white-space: pre-line;
                                  "
                                >
                                  <nz-select
                                    name="Teacher{{ i }}"
                                    nzShowSearch
                                    nzAllowClear
                                    style="width: 100%"
                                    nzPlaceHolder="Select Subject Teacher"
                                    [(ngModel)]="data.TEACHER_ID"
                                  >
                                    <nz-option
                                      *ngFor="let teacherName of Teacherlist"
                                      [nzValue]="teacherName.ID"
                                      [nzLabel]="teacherName.NAME"
                                    >
                                    </nz-option>
                                  </nz-select>
                                </td>
                              </tr>
                            </tbody>
                          </nz-table>
                        </div>
                      </div>
                    </nz-spin>
                  </div>
                  <div class="footer">
                    <button
                      type="button"
                      nz-button
                      (click)="closeMapteacher()"
                      class="ant-btn"
                      style="margin-right: 8px"
                    >
                      <span>Cancel</span>
                    </button>
                    <button
                      type="button"
                      [nzCondition]="switchValue"
                      class="ant-btn ant-btn-primary"
                      nz-popconfirm
                      nzPopconfirmTitle="Are You Sure You Want To Map Teacher?"
                      nzPopconfirmPlacement="bottom"
                      nz-button
                      nz-dropdown
                      (nzOnConfirm)="confirmMap()"
                      (click)="MapTeacherToClass()"
                      [nzLoading]="isTeacherMapSpinning"
                    >
                      <span>Map & Close</span>
                    </button>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>

            <!-- ClassdrawerDataSubject -->
            <div *ngIf="drawerVisible11">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="390"
                [nzVisible]="drawerVisible11"
                [nzTitle]="drawerTitle1"
                (nzOnClose)="drawerClose1()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <form nz-form #websitebannerPage="ngForm">
                      <nz-spin [nzSpinning]="isSpinning">
                        <div nz-row class="custom-form-item11">
                          <div
                            nz-col
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="24"
                            nzLg="24"
                            nzXl="12"
                          >
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon>
                                Class
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Please Select Class "
                              >
                                <nz-select
                                  [nzLoading]="classesload"
                                  nzShowSearch
                                  nzAllowClear
                                  require
                                  nzPlaceHolder="Select Class"
                                  name="classnm"
                                  [(ngModel)]="ClassdrawerDataSubject.CLASS_ID"
                                  disabled
                                  required
                                >
                                  <nz-option
                                    *ngFor="let report of Classes"
                                    [nzValue]="report.ID"
                                    [nzLabel]="report.NAME"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col nzSpan="12">
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon
                                >Division</nz-form-label
                              >
                              <nz-form-control nzHasFeedback>
                                <nz-select
                                  name="Division"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Select Division"
                                  [(ngModel)]="
                                    ClassdrawerDataSubject.DIVISION_ID
                                  "
                                  disabled
                                >
                                  <nz-option
                                    *ngFor="let Div of divisionlist"
                                    [nzValue]="Div.ID"
                                    [nzLabel]="Div.NAME"
                                  >
                                  </nz-option>
                                  <nz-option nzValue="0" [nzLabel]="'NA'">
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div
                            nz-col
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="24"
                            nzLg="24"
                            nzXl="24"
                          >
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon>
                                Subject Name
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Enter Correct Subject Name "
                              >
                                <input
                                  nz-input
                                  name="subnm"
                                  autocomplete="off"
                                  placeholder="Enter Subject Name"
                                  [(ngModel)]="ClassdrawerDataSubject.NAME"
                                  minlength="2"
                                  maxlength="128"
                                  required
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzSpan="24">
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon
                                >Teacher</nz-form-label
                              >
                              <nz-select
                                name="Teacher3"
                                nzShowSearch
                                nzAllowClear
                                style="width: 100%"
                                nzPlaceHolder="Select Teacher"
                                [(ngModel)]="ClassdrawerDataSubject.TEACHER_ID"
                                [nzLoading]="loadTeacher"
                              >
                                <nz-option
                                  *ngFor="let Year of Teacherlist"
                                  [nzValue]="Year.ID"
                                  [nzLabel]="Year.NAME"
                                >
                                </nz-option>
                              </nz-select>
                            </nz-form-item>
                          </div>
                          <div nz-col nzSpan="9">
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon
                                >Year</nz-form-label
                              >
                              <nz-select
                                name="Year"
                                nzShowSearch
                                nzAllowClear
                                style="width: 100%"
                                nzPlaceHolder="Select Year"
                                [(ngModel)]="ClassdrawerDataSubject.YEAR_ID"
                                [nzLoading]="loadYearData"
                                disabled
                              >
                                <nz-option
                                  *ngFor="let Year of yearlist"
                                  [nzValue]="Year.ID"
                                  [nzLabel]="Year.YEAR"
                                >
                                </nz-option>
                              </nz-select>
                            </nz-form-item>
                          </div>
                          <div nz-col nzSpan="9">
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon>
                                Sequence No.
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Enter Correct Sequence Number "
                              >
                                <input
                                  nz-input
                                  placeholder="Sequence No."
                                  name="unitseq"
                                  style="width: 100%"
                                  minlength="1"
                                  [(ngModel)]="ClassdrawerDataSubject.SEQ_NO"
                                  (keypress)="commonFunction.omit($event)"
                                  maxlength="5"
                                  required
                                  disabled
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col nzSpan="5">
                            <nz-form-item>
                              <nz-form-label nzNoColon> Status </nz-form-label>
                              <nz-form-control>
                                <nz-switch
                                  name="unitstatus"
                                  [(ngModel)]="ClassdrawerDataSubject.STATUS"
                                  nzCheckedChildren="Yes"
                                  nzUnCheckedChildren="No"
                                  disabled
                                ></nz-switch>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                      </nz-spin>
                    </form>

                    <div class="footer">
                      <button
                        type="button"
                        nz-button
                        (click)="closemap()"
                        class="ant-btn"
                        style="margin-right: 8px"
                      >
                        <span> Cancel </span>
                      </button>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        *ngIf="!ClassdrawerDataSubject.ID"
                        nz-button
                        nz-dropdown
                        [nzLoading]="ClassSubjectisSpinning"
                        (click)="save2(false, websitebannerPage)"
                      >
                        <span> Save & Close</span>
                      </button>
                      <!-- <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                          <li
                            nz-menu-item
                            class="menuc"
                            style="
                              border-radius: 4px;
                              background-color: #40a9ff;
                            "
                          >
                            <a
                              style="color: white"
                              (click)="save2(true, websitebannerPage)"
                              [nzLoading]="ClassSubjectisSpinning"
                            >
                              Save & New</a
                            >
                          </li>
                        </ul>
                      </nz-dropdown-menu> -->
                    </div>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>
          </div>

          <div *ngIf="drawerVisibleClassMap">
            <nz-drawer
              [nzBodyStyle]="{
                height: 'calc(100% - 55px)',
                overflow: 'auto',
                'padding-bottom': '53px'
              }"
              [nzClosable]="true"
              [nzMask]="true"
              [nzMaskClosable]="false"
              [nzWidth]="700"
              [nzVisible]="drawerVisibleClassMap"
              [nzTitle]="drawerTitleClassMap"
              (nzOnClose)="drawerCloseMapClass()"
              (nzKeyboard)="(true)"
            >
              <ng-container *nzDrawerContent>
                <div>
                  <form nz-form #formData="ngForm">
                    <div class="my-box">
                      <div nz-row class="custom-form-item11">
                        <div nz-col nzSpan="8">
                          <nz-form-item>
                            <nz-form-label nzNoColon>Class Name </nz-form-label>
                            <nz-form-control
                              nzHasFeedback
                              nzErrorTip="Enter Class Name"
                            >
                              <input
                                nz-input
                                name="class"
                                style="width: 100%"
                                autocomplete="off"
                                [(ngModel)]="MapData.CLASS_NAME"
                                placeholder=" Enter Class Name"
                                disabled="true"
                                required
                              />
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzSpan="8">
                          <nz-form-item>
                            <nz-form-label nzRequired nzNoColon
                              >Division</nz-form-label
                            >
                            <nz-select
                              name="Division"
                              nzShowSearch
                              nzAllowClear
                              style="width: 100%"
                              nzPlaceHolder="Select Division"
                              [(ngModel)]="MapData.DIVISION_ID"
                              (ngModelChange)="onDivisionChangeFee($event)"
                              nzMode="multiple"

                              [nzLoading]="loadDivision"
                            >
                              <nz-option [nzValue]="0" [nzLabel]="'NA'">
                              </nz-option>
                              <nz-option
                                *ngFor="let Div of divisionlist"
                                [nzValue]="Div.ID"
                                [nzLabel]="Div.NAME"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-item>
                        </div>

                        <div nz-col nzSpan="8">
                          <nz-form-item>
                            <nz-form-label nzRequired nzNoColon
                              >Year</nz-form-label
                            >
                            <nz-select
                              name="Year"
                              nzShowSearch
                              nzAllowClear
                              style="width: 100%"
                              nzPlaceHolder="Select Year"
                              [(ngModel)]="MapData.YEAR_ID"
                              (ngModelChange)="onYearChangeFee($event)"
                              [nzLoading]="loadYearData"
                            >
                              <nz-option
                                *ngFor="let Year of yearlist"
                                [nzValue]="Year.ID"
                                [nzLabel]="Year.YEAR"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-item>
                        </div>
                      </div>
                    </div>
                  </form>

                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <nz-table
                        class="my-scroll no-wrap1"
                        nzBordered
                        [nzData]="['']"
                        [nzSize]="'small'"
                        [nzScroll]="{ y: '50vh' }"
                        [nzShowPagination]="false"
                        [nzLoading]="loadHeadData"
                        [nzFooter]="Footer"
                      >
                        <thead>
                          <tr>
                            <th nzWidth="18px" style="text-align: center">
                              Map
                            </th>
                            <th nzWidth="70px " style="text-align: center">
                              Head Name
                            </th>
                            <th nzWidth="30px " style="text-align: center">
                              Amount
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of tableData; let i = index">
                            <td style="text-align: center">
                              <label
                                (ngModelChange)="onIsMappedChange($event, data)"
                                nz-checkbox
                                name="map"
                                [(ngModel)]="data.IS_MAPPED"
                              ></label>
                            </td>

                            <td style="white-space: pre-line; text-align: left">
                              {{ data["NAME"] }}
                            </td>
                            <td
                              style="white-space: pre-line; text-align: center"
                            >
                              <input
                                name="amt{{ i }}"
                                nz-input
                                style="text-align: right"
                                type="text"
                                [(ngModel)]="data.AMOUNT"
                                (keypress)="commonFunction.omit($event)"
                                maxlength="7"
                                class="plain-text-input"
                                [disabled]="!data.IS_MAPPED"
                                (ngModelChange)="onAmountChange($event)"
                              />
                            </td>
                          </tr>
                        </tbody>
                        <ng-template #Footer [ngOutletContext]="context">
                          <div nz-row>
                            <div nz-col nzSpan="23" style="text-align: right">
                              <span>
                                <b>Total :- </b>
                              </span>
                              <span>
                                {{ Total }}
                              </span>
                            </div>
                            <div
                              nz-col
                              nzSpan="1"
                              style="text-align: right"
                            ></div>
                          </div>
                        </ng-template>
                      </nz-table>
                    </div>
                  </div>
                </div>

                <div class="footer">
                  <button
                    type="button"
                    nz-button
                    (click)="drawerCloseMapClass()"
                    class="ant-btn"
                    style="margin-right: 8px"
                  >
                    <span>Cancel</span>
                  </button>
                  <button
                    type="button"
                    nz-button
                    [nzLoading]="isFeeMapSpinning"
                    nzType="primary"
                    nz-popconfirm
                    nzPopconfirmTitle="Are You Sure You Want To Map Class?"
                    nzPopconfirmPlacement="top"
                    [nzCondition]="switchValue2"
                    (nzOnConfirm)="FeeMapconfirm()"
                    (click)="FeeMapsave()"
                    style="margin-right: 12px"
                  >
                    <span>Map & Close</span>
                  </button>
                </div>
              </ng-container>
            </nz-drawer>
          </div>

          <!-- Subject -->

          <div *ngIf="current == 5">
            <div nz-row nzType="flex" style="margin-top: 20px">
              <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="8">
                <!-- <div class="formname">
                    <b> {{ formTitleSubject }} </b>
                  </div> -->
              </div>

              <div
                nz-col
                nzXs="24"
                nzSm="24"
                nzMd="4"
                nzLg="6"
                nzXl="16"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="aboutsearch"
                        (keyup)="subjectkeyup($event)"
                        [(ngModel)]="subjectSearchText"
                        nz-input
                        placeholder=" Search Record"
                      />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="subjectSearch(true)"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>
                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="addSubject()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add New Subject
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>

            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-table
                  class="my-scroll no-wrap1"
                  nzBordered
                  #subjectmaster
                  nzShowSizeChanger
                  [nzFrontPagination]="false"
                  [nzData]="subjectDataList"
                  [nzLoading]="loadingRecordsSubject"
                  [nzSize]="'small'"
                  [nzScroll]="{ x: '900px', y: '30vh' }"
                  [nzTotal]="subjectTotalRecords"
                  [(nzPageIndex)]="subjectPageIndex"
                  [(nzPageSize)]="subjectPageSize"
                  (nzPageIndexChange)="subjectSearch()"
                  (nzPageSizeChange)="subjectSearch(true)"
                  (nzQueryParams)="sortSubject($event)"
                >
                  <thead>
                    <tr>
                      <th nzWidth="17px" style="text-align: center">Action</th>
                      <th nzWidth="40px" nzLeft>Delete</th>
                      <th
                        nzColumnKey="{{ 'CLASS_NAME' }}"
                        [nzSortFn]="true"
                        nzWidth="40px"
                        style="text-align: center"
                      >
                        Class Name
                      </th>

                      <th
                        nzColumnKey="{{ 'NAME' }}"
                        [nzSortFn]="true"
                        nzWidth="90px"
                        style="text-align: center"
                      >
                        Subject Name
                      </th>
                      <th
                        nzColumnKey="{{ 'DIVISION_NAME' }}"
                        [nzSortFn]="true"
                        nzWidth="30px"
                        style="text-align: center"
                      >
                        Division Name
                      </th>
                      <!-- <th nzColumnKey="{{ 'SEQ_NO' }}" [nzSortFn]="true" nzWidth="19px" style="text-align: center">
                        Seq. No.
                      </th> -->
                      <!-- <th
                        nzColumnKey="{{ 'STATUS' }}"
                        [nzSortFn]="true"
                        nzWidth="16px"
                        style="text-align: center"
                      >
                        Status
                      </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of subjectmaster.data">
                      <td style="text-align: center">
                        <i
                          nz-icon
                          nzType="edit"
                          nz-tooltip
                          nzTooltipTitle="Edit"
                          nzTheme="twotone"
                          (click)="editSubject(data)"
                        ></i>
                      </td>
                      <td nzLeft style="text-align: center">
                        <a nz-tooltip nzTooltipTitle="Delete">
                          <span
                            nz-icon
                            nz-popconfirm
                            nzPopconfirmTitle="Are you sure You Want to delete data?"
                            nzOkText="Ok"
                            nzCancelText="Cancel"
                            (nzOnConfirm)="OnConfirmDeleteSubject(data)"
                            nzType="delete"
                            style="cursor: pointer; color: blue; margin-right: 5px"
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["CLASS_NAME"] }}
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["NAME"] }}
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["DIVISION_NAME"] }}
                      </td>
                      <!-- <td style="text-align: center">
                        {{ data["SEQ_NO"] }}
                      </td> -->

                      <!-- <td style="text-align: center">
                        <i
                          nz-icon
                          *ngIf="data['STATUS']"
                          [nzType]="'check-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#52c41a'"
                        ></i>
                        <i
                          nz-icon
                          *ngIf="!data['STATUS']"
                          [nzType]="'close-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#f50'"
                        ></i>
                      </td> -->
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>
            <div *ngIf="subjectDrawerVisible">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="390"
                [nzVisible]="subjectDrawerVisible"
                [nzTitle]="subjectDrawerTitle"
                (nzOnClose)="subjectClose()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <form nz-form #subjectpage="ngForm">
                      <nz-spin [nzSpinning]="subjectisSpinning">
                        <div nz-row class="custom-form-item">
                          <div
                            nz-col
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="24"
                            nzLg="24"
                            nzXl="12"
                          >
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                Class
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Please Select Class "
                              >
                                <nz-select
                                  [nzLoading]="classesload"
                                  nzShowSearch
                                  nzAllowClear
                                  require
                                  nzPlaceHolder="Select Class"
                                  name="classnm"
                                  [(ngModel)]="subjectDrawerData.CLASS_ID"
                                  (ngModelChange)="classidchange($event)"
                                  [nzDisabled]="roleId == 3 ? true : false"
                                  required
                                >
                                  <nz-option
                                    *ngFor="let report of Classes"
                                    [nzValue]="report.ID"
                                    [nzLabel]="report.NAME"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col nzSpan="12">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon
                                >Division</nz-form-label
                              >
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Select Division"
                              >
                                <nz-select
                                  name="Division"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Select Division"
                                  [(ngModel)]="subjectDrawerData.DIVISION_ID"
                                  required
                                >
                                  <nz-option
                                    *ngFor="let Div of divisionlist"
                                    [nzValue]="Div.ID"
                                    [nzLabel]="Div.NAME"
                                  >
                                  </nz-option>
                                  <nz-option [nzValue]="0" [nzLabel]="'NA'">
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div
                            nz-col
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="24"
                            nzLg="24"
                            nzXl="24"
                          >
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                Subject Name
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Enter Correct Subject Name "
                              >
                                <input
                                  nz-input
                                  name="subnm"
                                  autocomplete="off"
                                  placeholder="Enter Subject Name"
                                  [(ngModel)]="subjectDrawerData.NAME"
                                  minlength="2"
                                  maxlength="128"
                                  required
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzSpan="15">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                Question Subject
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Select Question Subject"
                              >
                                <nz-select
                                  nz-input
                                  name="QuestionSubject"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Question Subject"
                                  [(ngModel)]="
                                    subjectDrawerData.QUESTION_SUBJECT_ID
                                  "
                                  [nzLoading]="questionSubjectLoad"
                                  required
                                >
                                  <nz-option
                                    [nzValue]="0"
                                    nzLabel="NA"
                                  ></nz-option>
                                  <nz-option
                                    *ngFor="let quest of questionsubjectList"
                                    [nzValue]="quest.ID"
                                    [nzLabel]="quest.NAME"
                                  ></nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzSpan="9">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzRequired nzNoColon>
                                Sequence No.
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Enter Correct Sequence Number "
                              >
                                <input
                                  nz-input
                                  placeholder="Sequence No."
                                  name="unitseq"
                                  style="width: 100%"
                                  minlength="1"
                                  [(ngModel)]="subjectDrawerData.SEQ_NO"
                                  (keypress)="commonFunction.omit($event)"
                                  maxlength="5"
                                  required
                                  disabled
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <!-- <div nz-col nzSpan="8">
                            <nz-form-item class="nz-form-item">
                              <nz-form-label nzNoColon> Status </nz-form-label>
                              <nz-form-control>
                                <nz-switch
                                  name="unitstatus"
                                  [(ngModel)]="subjectDrawerData.STATUS"
                                  nzCheckedChildren="Yes"
                                  nzUnCheckedChildren="No"
                                ></nz-switch>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->
                        </div>
                      </nz-spin>
                    </form>

                    <div class="footer">
                      <button
                        type="button"
                        nz-button
                        (click)="subjectClose()"
                        class="ant-btn"
                        style="margin-right: 8px"
                      >
                        <span> Cancel </span>
                      </button>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        *ngIf="!subjectDrawerData.ID"
                        nz-button
                        nz-dropdown
                        [nzDropdownMenu]="menu"
                        [nzLoading]="subjectisSpinning"
                        (click)="saveSubject(false, subjectpage)"
                      >
                        <span> Save & Close</span>
                      </button>
                      <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                          <li
                            nz-menu-item
                            class="menuc"
                            style="
                              border-radius: 4px;
                              background-color: #40a9ff;
                            "
                          >
                            <a
                              style="color: white"
                              (click)="saveSubject(true, subjectpage)"
                            >
                              Save & New</a
                            >
                          </li>
                        </ul>
                      </nz-dropdown-menu>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        nz-button
                        [nzLoading]="subjectisSpinning"
                        *ngIf="subjectDrawerData.ID"
                        (click)="saveSubject(false, subjectpage)"
                      >
                        <span> Update & Close</span>
                      </button>
                    </div>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>
          </div>
          <!-- Student -->

          <div *ngIf="current == 6">
            <div nz-row nzType="flex" style="margin-top: 20px">
              <div nz-col nzXs="8" nzSm="8" nzMd="24" nzLg="6" nzXl="8">
                <!-- <div class="formname">
                  <b> {{ formTitle }} </b>
                </div> -->
              </div>

              <div
                nz-col
                nzXs="16"
                nzSm="16"
                nzMd="24"
                nzLg="18"
                nzXl="16"
                style="display: flex; justify-content: flex-end"
              >
                <form nz-form [nzLayout]="'inline'">
                  <nz-form-item>
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                      <input
                        type="text"
                        name="studentSearch"
                        nz-input
                        placeholder="Search Records"
                        [(ngModel)]="searchTextStudent"
                      />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                      <button
                        nz-button
                        nzType="primary"
                        (click)="studentSearch(true)"
                        nzSearch
                      >
                        <i nz-icon nzType="search"></i>
                      </button>
                    </ng-template>
                  </nz-form-item>

                  <nz-form-item>
                    <button
                      nz-button
                      nzTooltipTitle="Import Students"
                      (click)="exceldraweropen()"
                      style="
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        padding: 5px;
                        border-radius: 5px;
                      "
                      nzTooltipPlacement="top"
                      nz-tooltip
                      nzType="default"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 48 48"
                        width="25px"
                        height="25px"
                      >
                        <path
                          fill="#169154"
                          d="M29,6H15.744C14.781,6,14,6.781,14,7.744v7.259h15V6z"
                        />
                        <path
                          fill="#18482a"
                          d="M14,33.054v7.202C14,41.219,14.781,42,15.743,42H29v-8.946H14z"
                        />
                        <path
                          fill="#0c8045"
                          d="M14 15.003H29V24.005000000000003H14z"
                        />
                        <path fill="#17472a" d="M14 24.005H29V33.055H14z" />
                        <g>
                          <path
                            fill="#29c27f"
                            d="M42.256,6H29v9.003h15V7.744C44,6.781,43.219,6,42.256,6z"
                          />
                          <path
                            fill="#27663f"
                            d="M29,33.054V42h13.257C43.219,42,44,41.219,44,40.257v-7.202H29z"
                          />
                          <path
                            fill="#19ac65"
                            d="M29 15.003H44V24.005000000000003H29z"
                          />
                          <path fill="#129652" d="M29 24.005H44V33.055H29z" />
                        </g>
                        <path
                          fill="#0c7238"
                          d="M22.319,34H5.681C4.753,34,4,33.247,4,32.319V15.681C4,14.753,4.753,14,5.681,14h16.638 C23.247,14,24,14.753,24,15.681v16.638C24,33.247,23.247,34,22.319,34z"
                        />
                        <path
                          fill="#fff"
                          d="M9.807 19L12.193 19 14.129 22.754 16.175 19 18.404 19 15.333 24 18.474 29 16.123 29 14.013 25.07 11.912 29 9.526 29 12.719 23.982z"
                        />
                      </svg>
                    </button>
                  </nz-form-item>
                  <nz-form-item>
                    <button
                      nz-button
                      nzTooltipTitle="Filter"
                      [nzType]="StudentisFilterApplied"
                      nzTooltipPlacement="top"
                      nz-tooltip
                      (click)="showFilter()"
                    >
                      <i nz-icon nzType="filter"></i>
                    </button>
                  </nz-form-item>
                  <nz-form-item>
                    <button
                      nz-button
                      nzType="primary"
                      (click)="addStudent()"
                      nzJustify="end"
                    >
                      <i nz-icon nzType="plus"></i>Add New Student
                    </button>
                  </nz-form-item>
                </form>
              </div>
            </div>
            <br />
            <div nz-row>
              <div nz-col nzSpan="24">
                <div class="filter {{ filterClassStudent }}">
                  <div class="filter-box">
                    <form nz-form>
                      <div nz-row class="custom-form-item11">
                        <div
                          nz-col
                          [nzSpan]="screenwidth > 1500 && roleId == 2 ? 4 : 4"
                        >
                          <nz-form-item>
                            <nz-form-label nzNoColon
                              >Select Class</nz-form-label
                            >
                            <nz-form-control>
                              <nz-select
                                nzShowArrow="true"
                                nzShowSearch
                                nzAllowClear
                                name="class"
                                [(ngModel)]="ClassID"
                                nzPlaceHolder="Select Class"
                              >
                                <nz-option
                                  *ngFor="let class of Classes"
                                  [nzValue]="class.ID"
                                  [nzLabel]="class.NAME"
                                >
                                </nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div
                          nz-col
                          [nzSpan]="screenwidth > 1300 && roleId == 2 ? 4 : 4"
                          style="display: flex; gap: 10px; margin-top: 31px"
                        >
                          <button
                            nz-button
                            [nzLoading]="isSpinning"
                            nzType="primary"
                            (click)="applyFilterClass()"
                          >
                            <i nz-icon nzType="filter"></i>
                          </button>
                          <button
                            nz-button
                            nzType="primary"
                            [nzLoading]="isSpinning"
                            (click)="clearFilter()"
                          >
                            <i nz-icon nzType="close"></i>
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div nz-row style="margin-top: 10px">
              <div nz-col nzSpan="2"></div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventStudent('ALL')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          registerCountsStudent != undefined &&
                          registerCountsStudent != null
                        "
                        >{{ registerCountsStudent }}</span
                      >
                    </div>
                    <div
                      nz-col
                      nzSpan="18"
                      [ngStyle]="
                        showstudentcolor0 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      <!-- All -->
                      <span (ngModelChange)="clickEventStudent('all')"
                        >All</span
                      >
                      <!-- <button (ngModelChange)="clickEventStudent('all')" name="APPROVAL_STATUS_STUDENT" [(ngModel)]="APPROVAL_STATUS_STUDENT" ></button>   -- -->
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventStudent('A')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          approvedCountsStudent != undefined &&
                          approvedCountsStudent != null
                        "
                        >{{ approvedCountsStudent }}</span
                      >
                    </div>
                    <div
                      nz-col
                      nzSpan="18"
                      [ngStyle]="
                        showstudentcolor1 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Approved
                    </div>
                  </div>
                </div>
              </div>
              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventStudent('R')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          rejectsCountsStudent != undefined &&
                          rejectsCountsStudent != null
                        "
                        >{{ rejectsCountsStudent }}</span
                      >
                    </div>
                    <div
                      [ngStyle]="
                        showstudentcolor2 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      nz-col
                      nzSpan="18"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Reject
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventStudent('P')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          pendingsCountsStudent != undefined &&
                          pendingsCountsStudent != null
                        "
                        >{{ pendingsCountsStudent }}</span
                      >
                    </div>
                    <div
                      [ngStyle]="
                        showstudentcolor3 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      nz-col
                      nzSpan="18"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Pending
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="4" style="padding: 5px; cursor: pointer">
                <div style="text-align: center">
                  <div nz-row (click)="clickEventStudent('B')">
                    <div
                      nz-col
                      nzSpan="6"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        border-radius: 5px 0 0 5px;
                        background-color: rgb(205, 205, 249);
                        font-size: 12px;
                      "
                    >
                      <span
                        *ngIf="
                          blockedCountsStudent != undefined &&
                          blockedCountsStudent != null
                        "
                        >{{ blockedCountsStudent }}</span
                      >
                    </div>
                    <div
                      [ngStyle]="
                        showstudentcolor4 == 1
                          ? { background: 'rgb(158 158 209)' }
                          : { background: ' rgb(227, 227, 249)' }
                      "
                      nz-col
                      nzSpan="18"
                      style="
                        border: 1px solid blue;
                        padding: 5px;
                        margin-left: -1px;
                        border-radius: 0 5px 5px 0;
                        background-color: rgb(227, 227, 249);
                        font-size: 12px;
                      "
                    >
                      Blocked
                    </div>
                  </div>
                </div>
              </div>

              <div nz-col nzSpan="2"></div>
            </div>
            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-table
                  class="my-scroll no-wrap1"
                  nzBordered
                  #studentTable
                  nzShowSizeChanger
                  [nzFrontPagination]="false"
                  [nzData]="dataListStudent"
                  [nzLoading]="loadingRecordsStudent"
                  nzSize="small"
                  [nzTotal]="totalRecordsStudent"
                  [(nzPageIndex)]="pageIndexStudent"
                  [(nzPageSize)]="pageSizeStudent"
                  (nzPageIndexChange)="studentSearch()"
                  (nzPageSizeChange)="studentSearch(true)"
                  (nzQueryParams)="sortStudent($event)"
                  [nzScroll]="{ x: '2860px', y: '30vh' }"
                >
                  <thead>
                    <tr>
                      <th nzWidth="40px" nzLeft *ngIf="showstudentcolor3 != 1">
                        Action
                      </th>
                      <th nzWidth="40px" nzLeft>Delete</th>
                      <th
                        nzWidth="45px"
                        nzLeft
                        *ngIf="showstudentcolor3 == 1 || showstudentcolor0 == 1"
                      >
                        Preview
                      </th>

                      <th
                        nzLeft
                        style="z-index: 4"
                        nzWidth="45px"
                        *ngIf="showstudentcolor3 != 1"
                      >
                        Map Class
                      </th>
                      <th
                        nzLeft
                        nzWidth="80px"
                        [nzSortFn]="true"
                        nzColumnKey="APPROVAL_STATUS"
                        style="text-align: center"
                        *ngIf="showstudentcolor0 == 1"
                      >
                        Student Status
                      </th>
                      <!-- <th nzWidth="80px" [nzSortFn]="true" nzColumnKey="REJECT_BLOCKED_REMARK"
                        style="text-align: center" *ngIf="showstudentcolor0 == 1">
                        Reject Remark
                      </th> -->
                      <!-- <th
                        nzWidth="70px"
                        nzLeft
                        style="z-index: 4"
                        style="text-align: center"
                      >
                        Fee Map
                      </th> -->
                      <th [nzSortFn]="true" nzColumnKey="NAME" nzWidth="120px">
                        Student Name
                      </th>
                      <!--  -->
                      <th
                        nzWidth="70px"
                        [nzSortFn]="true"
                        nzColumnKey="CLASS_NAME"
                        style="white-space: pre-line"
                      >
                        Class Name
                      </th>
                      <th
                        nzWidth="70px"
                        [nzSortFn]="true"
                        nzColumnKey="DIVISION_NAME"
                        style="white-space: pre-line"
                      >
                        Division Name
                      </th>
                      <th
                        nzWidth="40px"
                        [nzSortFn]="true"
                        nzColumnKey="YEAR"
                        style="white-space: pre-line"
                      >
                        Year
                      </th>
                      <!--  -->
                      <th
                        [nzSortFn]="true"
                        nzColumnKey="EMAIL_ID"
                        nzWidth="120px"
                      >
                        Email Id
                      </th>
                      <th
                        [nzSortFn]="true"
                        nzColumnKey="MOBILE_NUMBER"
                        nzWidth="90px"
                      >
                        Mobile Number
                      </th>
                      <th [nzSortFn]="true" nzColumnKey="GENDER" nzWidth="80px">
                        Gender
                      </th>
                      <th [nzSortFn]="true" nzColumnKey="DOB" nzWidth="80px">
                        Birth Date
                      </th>

                      <th
                        [nzSortFn]="true"
                        nzColumnKey="IDENTITY_NUMBER"
                        nzWidth=" 80px"
                      >
                        Identity Number
                      </th>
                      <!-- <th [nzSortFn]="true" nzColumnKey="PASSWORD" nzWidth="90px">
                        Password
                      </th> -->

                      <th
                        [nzSortFn]="true"
                        nzColumnKey="ADDRESS"
                        nzWidth="130px"
                      >
                        Address
                      </th>
                      <th
                        [nzSortFn]="true"
                        nzColumnKey="DISTRICT_NAME"
                        nzWidth="80px"
                      >
                        District
                      </th>
                      <th
                        [nzSortFn]="true"
                        nzColumnKey="STATE_NAME"
                        nzWidth="80px"
                      >
                        State
                      </th>
                      <th
                        [nzSortFn]="true"
                        nzColumnKey="COUNTRY_NAME"
                        nzWidth="80px"
                      >
                        Country
                      </th>
                      <!-- <th [nzSortFn]="true" nzColumnKey="STATUS" nzWidth="50px">
                        Status
                      </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of studentTable.data">
                      <td
                        nzLeft
                        style="text-align: center"
                        *ngIf="showstudentcolor3 != 1"
                      >
                        <a
                          (click)="editStudent(data)"
                          nz-tooltip
                          nzTooltipTitle="Edit"
                        >
                          <span
                            nz-icon
                            nzType="edit"
                            nzTheme="twotone"
                            style="font-size: 15px"
                          ></span>
                        </a>
                      </td>
                      <td nzLeft style="text-align: center">
                        <a nz-tooltip nzTooltipTitle="Delete">
                          <span
                            nz-icon
                            nz-popconfirm
                            nzPopconfirmTitle="Are you sure You Want to delete data?"
                            nzOkText="Ok"
                            nzCancelText="Cancel"
                            (nzOnConfirm)="OnConfirmDeleteStudent(data)"
                            nzType="delete"
                            style="cursor: pointer; color: blue; margin-right: 5px"
                            nzTheme="outline"
                          ></span>
                        </a>
                      </td>
                      <td
                        nzLeft
                        style="text-align: center"
                        *ngIf="showstudentcolor3 == 1 || showstudentcolor0 == 1"
                      >
                        <a
                          (click)="studentPreview(data)"
                          style="color: #1890ff"
                          nz-tooltip
                          nzTooltipTitle="Preview"
                        >
                          <span nz-icon nzType="eye" nzTheme="outline"></span>
                        </a>
                      </td>
                      <td align="center" nzLeft *ngIf="showstudentcolor3 != 1">
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="MapClass(data)"
                            nz-tooltip
                            nzTooltipTitle="Map Class"
                          >
                            <span
                              nz-icon
                              nzType="form"
                              nzTheme="outline"
                              style="
                                font-size: 15px;
                                color: #0d6efd;
                                margin-left: 10px;
                              "
                            ></span>
                          </a>
                        </nz-space>
                      </td>
                      <td
                        nzLeft
                        style="text-align: center"
                        *ngIf="showstudentcolor0 == 1"
                      >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'P'"
                          style="color: orange; font-weight: bold"
                          >Pending</span
                        >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'A'"
                          style="color: green; font-weight: bold"
                          >Approved</span
                        >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'R'"
                          style="color: red; font-weight: bold"
                          >Reject</span
                        >
                        <span
                          *ngIf="data['APPROVAL_STATUS'] == 'B'"
                          style="color: gray; font-weight: bold"
                          >Blocked</span
                        >
                      </td>
                      <!-- <td style="white-space: pre-line; text-align: left" *ngIf="showstudentcolor0 == 1">
                        {{ data["REJECT_BLOCKED_REMARK"] }}
                      </td> -->
                      <!-- <td align="center" nzLeft>
                        <nz-space>
                          <a
                            *nzSpaceItem
                            (click)="addFeeMap(data)"
                            nz-tooltip
                            nzTooltipTitle="Fee Map"
                          >
                            <span
                              nz-icon
                              nzType="form"
                              nzTheme="outline"
                              style="font-size: 15px; color: #0d6efd; margin-left: 10px"
                            ></span>
                          </a>
                        </nz-space>
                      </td> -->
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["NAME"] }}
                      </td>

                      <td style="white-space: pre-line; text-align: left">
                        {{ data["CLASS_NAME"] }}
                      </td>

                      <td style="white-space: pre-line; text-align: left">
                        {{ data["DIVISION_NAME"] }}
                      </td>

                      <td style="white-space: pre-line; text-align: center">
                        {{ data["YEAR"] }}
                      </td>

                      <td style="white-space: pre-line; text-align: left">
                        {{ data["EMAIL_ID"] }}
                      </td>
                      <td style="white-space: pre-line; text-align: center">
                        {{ data["MOBILE_NUMBER"] }}
                      </td>
                      <td style="text-align: left">
                        <span *ngIf="data['GENDER'] == 'M'">Male</span>
                        <span *ngIf="data['GENDER'] == 'F'">Female</span>
                        <span *ngIf="data['GENDER'] == 'O'">Other</span>
                      </td>
                      <td style="white-space: pre-line; text-align: center">
                        {{ data["DOB"] | date : "dd/MMM/yyyy" }}
                      </td>

                      <td style="white-space: pre-line; text-align: left">
                        {{ data["IDENTITY_NUMBER"] }}
                      </td>
                      <!-- <td style="white-space: pre-line; text-align: left">
                        {{ data["PASSWORD"] }}
                      </td> -->

                      <td style="white-space: pre-line; text-align: left">
                        {{ data["ADDRESS"] }}
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["DISTRICT_NAME"] }}
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["STATE_NAME"] }}
                      </td>
                      <td style="white-space: pre-line; text-align: left">
                        {{ data["COUNTRY_NAME"] }}
                      </td>
                      <!-- <td style="text-align: center">
                        <i
                          nz-icon
                          *ngIf="data['STATUS']"
                          [nzType]="'check-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#52c41a'"
                        ></i>
                        <i
                          nz-icon
                          *ngIf="!data['STATUS']"
                          [nzType]="'close-circle'"
                          [nzTheme]="'twotone'"
                          [nzTwotoneColor]="'#f50'"
                        ></i>
                      </td> -->
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>

            <div *ngIf="drawerVisibleStudent">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="920"
                [nzVisible]="drawerVisibleStudent"
                [nzTitle]="drawerTitleStudent"
                (nzOnClose)="drawerCloseStudent()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <div>
                    <form nz-form #Student="ngForm">
                      <nz-spin [nzSpinning]="studentIsSpinning">
                        <div nz-row>
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="24"
                            nzLg="24"
                            nzXl="12"
                          >
                            <div nz-row class="my-box">
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <h6
                                  style="
                                    margin-left: 11px;
                                    font-size: 15px;
                                    font-weight: 600;
                                    margin-bottom: 11px;
                                  "
                                >
                                  Personal Details :
                                </h6>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    Student Name
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip=" Please Enter Valid Student Name"
                                  >
                                    <input
                                      nz-input
                                      autocomplete="off"
                                      name="empname"
                                      placeholder="Enter Student Name"
                                      [(ngModel)]="drawerDataStudent.NAME"
                                      minlength="3"
                                      maxlength="256"
                                      required
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzNoColon>Email</nz-form-label>

                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Enter Valid Email"
                                  >
                                    <input
                                      nz-input
                                      autocomplete="off"
                                      name="email"
                                      placeholder="Enter Email"
                                      [pattern]="commonFunction.emailpattern"
                                      [(ngModel)]="drawerDataStudent.EMAIL_ID"
                                      maxlength="128"
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                              >
                                <nz-form-label nzRequired nzNoColon
                                  >Mobile Number</nz-form-label
                                >

                                <nz-form-item class="nz-form-item">
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Enter Valid Mobile No"
                                  >
                                    <input
                                      nz-input
                                      autocomplete="off"
                                      name="mobileno"
                                      placeholder="Enter Mobile No."
                                      (keypress)="commonFunction.omit($event)"
                                      [pattern]="commonFunction.mobpattern"
                                      [(ngModel)]="
                                        drawerDataStudent.MOBILE_NUMBER
                                      "
                                      required
                                      maxlength="10"
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon
                                    >Password
                                  </nz-form-label>

                                  <nz-form-control
                                    nzRequired
                                    nzHasFeedback
                                    nzErrorTip="Password Must Be Minimum 8 Characters"
                                  >
                                    <nz-input-group [nzSuffix]="suffixTemplate">
                                      <input
                                        nz-input
                                        [type]="
                                          passwordVisible ? 'text' : 'password'
                                        "
                                        name="password"
                                        [(ngModel)]="drawerDataStudent.PASSWORD"
                                        minlength="8"
                                        maxlength="32"
                                        placeholder="Password"
                                        autocomplete="off"
                                        required
                                      />
                                    </nz-input-group>

                                    <ng-template #suffixTemplate>
                                      <i
                                        nz-icon
                                        [nzType]="
                                          passwordVisible
                                            ? 'eye'
                                            : 'eye-invisible'
                                        "
                                        (click)="
                                          passwordVisible = !passwordVisible
                                        "
                                      ></i>
                                    </ng-template>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    Birth Date
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    [nzErrorTip]="'Select Birth Date'"
                                  >
                                    <nz-date-picker
                                      name="birthdate"
                                      style="width: 100%"
                                      [nzShowToday]="false"
                                      [nzFormat]="commonFunction.dateFormatMMM"
                                      [(ngModel)]="drawerDataStudent.DOB"
                                      nzPlaceholder="Select Birth Date"
                                      (nzOnOpenChange)="open5YearAgo($event)"
                                      [nzDisabledDate]="
                                        commonFunction.disabledAfterDate
                                      "
                                      required
                                    ></nz-date-picker>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon
                                    >Gender
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Select Gender"
                                  >
                                    <nz-input-group nzCompact>
                                      <nz-select
                                        name="gender"
                                        nzPlaceHolder="Select Gender"
                                        [(ngModel)]="drawerDataStudent.GENDER"
                                        style="width: 100%"
                                        required
                                      >
                                        <nz-option
                                          [nzLabel]="'Male'"
                                          [nzValue]="'M'"
                                        ></nz-option>
                                        <nz-option
                                          [nzLabel]="'Female'"
                                          [nzValue]="'F'"
                                        ></nz-option>
                                        <nz-option
                                          [nzLabel]="'Other'"
                                          [nzValue]="'O'"
                                        ></nz-option>
                                      </nz-select>
                                    </nz-input-group>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="10"
                              >
                                <nz-form-label
                                  nzNoColon
                                  style="margin-left: 15px"
                                  >Identity Number</nz-form-label
                                >

                                <nz-form-item class="nz-form-item">
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Enter Valid Identity No"
                                  >
                                    <input
                                      nz-input
                                      autocomplete="off"
                                      name="idno"
                                      placeholder="Enter Identity No."
                                      [(ngModel)]="
                                        drawerDataStudent.IDENTITY_NUMBER
                                      "
                                      required
                                      maxlength="64"
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <!-- <div nz-col nzSpan="8">
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon
                                    >Sequence No
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Enter Sequence No"
                                  >
                                    <input
                                      nz-input
                                      name="seqno"
                                      style="width: 100%"
                                      autocomplete="off"
                                      [(ngModel)]="drawerDataStudent.SEQ_NO"
                                      placeholder="Enter Sequence No"
                                      (keypress)="commonFunction.omit($event)"
                                      maxlength="5"
                                      required
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div> -->
                              <!-- <div nz-col nzSpan="6">
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzNoColon>
                                    Status
                                  </nz-form-label>
                                  <nz-form-control>
                                    <nz-switch
                                      name="status"
                                      [(ngModel)]="drawerDataStudent.STATUS"
                                      nzCheckedChildren="Yes"
                                      nzUnCheckedChildren="No"
                                    ></nz-switch>
                                  </nz-form-control>
                                </nz-form-item>
                              </div> -->
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="14"
                                *ngIf="isShowBlockedStudent"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzNoColon
                                    >Student Status
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Select Student Status"
                                  >
                                    <nz-input-group nzCompact>
                                      <nz-select
                                        name="studentstatus"
                                        nzPlaceHolder="Select Student Status"
                                        [(ngModel)]="
                                          drawerDataStudent.APPROVAL_STATUS
                                        "
                                        style="width: 100%"
                                      >
                                        <nz-option
                                          [nzLabel]="'Blocked'"
                                          [nzValue]="'B'"
                                        ></nz-option>
                                        <!-- <nz-option [nzLabel]="'Reject'" [nzValue]="'R'"></nz-option> -->
                                      </nz-select>
                                    </nz-input-group>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                *ngIf="
                                  drawerDataStudent.APPROVAL_STATUS == 'R' ||
                                  drawerDataStudent.APPROVAL_STATUS == 'B'
                                "
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    Enter
                                    {{
                                      drawerDataStudent.APPROVAL_STATUS == "R"
                                        ? "Reject"
                                        : "Blocked"
                                    }}
                                    Remark
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please  Enter {{
                                      drawerDataStudent.APPROVAL_STATUS == 'R'
                                        ? 'Reject'
                                        : 'Blocked'
                                    }} Remark"
                                  >
                                    <textarea
                                      rows="2"
                                      required
                                      nz-input
                                      maxlength="256"
                                      minlength="2"
                                      name="remark1"
                                      placeholder="Enter Remark"
                                      [(ngModel)]="
                                        drawerDataStudent.REJECT_BLOCKED_REMARK
                                      "
                                    ></textarea>
                                    <span
                                      style="color: red; font-size: 10px"
                                      *ngIf="
                                        drawerDataStudent.REJECT_BLOCKED_REMARK
                                      "
                                      >{{
                                        drawerDataStudent.REJECT_BLOCKED_REMARK
                                          .length
                                      }}/256</span
                                    >
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                          </div>
                          <div nz-col nzSpan="1"></div>

                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="24"
                            nzLg="24"
                            nzXl="11"
                          >
                            <div nz-row class="my-box">
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <h6
                                  style="
                                    margin-left: 11px;
                                    font-size: 15px;
                                    font-weight: 600;
                                    margin-bottom: 11px;
                                  "
                                >
                                  Profile Details :
                                </h6>
                              </div>

                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="12"
                                nzXl="12"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzNoColon
                                    >Profile Photo</nz-form-label
                                  >
                                  <div style="text-align: left">
                                    <div
                                      *ngIf="
                                        drawerDataStudent.PROFILE_PHOTO ==
                                          null ||
                                        drawerDataStudent.PROFILE_PHOTO ==
                                          undefined ||
                                        drawerDataStudent.PROFILE_PHOTO == ''
                                      "
                                      style="color: blue"
                                    >
                                      <button
                                        nz-button
                                        style="
                                          height: 28px;
                                          padding: 0px 7px;
                                          font-size: 12px;
                                          width: 152px;
                                        "
                                        (click)="fileInput.click()"
                                      >
                                        <span
                                          style="width: 138px"
                                          nz-icon
                                          nzType="upload"
                                          nzTheme="outline"
                                        ></span>
                                        <input
                                          #fileInput
                                          name="invoice"
                                          accept=".jpg, .jpeg, .png"
                                          (change)="
                                            onFileSelectedProfile($event)
                                          "
                                          type="file"
                                          style="display: none"
                                        />
                                      </button>
                                    </div>
                                    <span
                                      *ngIf="
                                        drawerDataStudent.PROFILE_PHOTO !==
                                          null &&
                                        drawerDataStudent.PROFILE_PHOTO !==
                                          undefined &&
                                        drawerDataStudent.PROFILE_PHOTO !== ''
                                      "
                                    >
                                      <div
                                        *ngIf="
                                          progressBarProfilePhoto &&
                                          percentProfilePhoto < 100
                                        "
                                      >
                                        <nz-progress
                                          [style.width]="
                                            percentProfilePhoto + '%'
                                          "
                                          [nzPercent]="percentProfilePhoto"
                                          >{{
                                            percentProfilePhoto
                                          }}%</nz-progress
                                        >
                                      </div>
                                    </span>
                                    <br />

                                    <div
                                      *ngIf="
                                        drawerDataStudent.PROFILE_PHOTO !==
                                          null &&
                                        drawerDataStudent.PROFILE_PHOTO !==
                                          undefined &&
                                        drawerDataStudent.PROFILE_PHOTO !== ''
                                      "
                                      style="
                                        display: flex;
                                        flex-direction: column;
                                        align-items: center;
                                      "
                                    >
                                      <!-- First row -->
                                      <div
                                        style="
                                          display: flex;
                                          justify-content: center;
                                        "
                                      >
                                        <div>
                                          <!-- <img width="70%" nz-image style="    width: 246px;
                    height: 140px;margin-left: 16px;margin-bottom: 10px;"
                      src="{{ imgurl }}classWiseTask/{{ drawerDataStudent.PROFILE_PHOTO }}" /> -->

                                          <img
                                            class="img"
                                            nz-image
                                            style="border-radius: 5px"
                                            width="100%"
                                            height="100%"
                                            [nzSrc]="taskurl"
                                            alt="No Image Found"
                                          />
                                        </div>
                                      </div>

                                      <!-- Second row -->
                                      <div
                                        style="
                                          display: flex;
                                          flex-direction: row;
                                          align-items: center;
                                        "
                                      >
                                        <div style="margin-top: 10px">
                                          <!-- Adjust margin-top as needed -->
                                          {{ drawerDataStudent.PROFILE_PHOTO }}
                                        </div>
                                        <span
                                          style="
                                            cursor: pointer;
                                            margin-top: 12px;
                                            padding-left: 7px;
                                          "
                                          nz-popconfirm
                                          nzPopconfirmTitle="Are you sure want delete?"
                                          (nzOnConfirm)="
                                            deleteProfileConfirm(
                                              drawerDataStudent
                                            )
                                          "
                                          (nzOnCancel)="deleteProfileCancel()"
                                          nzPopconfirmPlacement="top"
                                        >
                                          <span
                                            nz-icon
                                            nzType="delete"
                                            nzTheme="twotone"
                                            nz-tooltip
                                            nzTooltipTitle="Delete"
                                          >
                                          </span>
                                        </span>
                                      </div>
                                    </div>
                                  </div>
                                </nz-form-item>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="12"
                                nzXl="12"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    Is Verified
                                  </nz-form-label>
                                  <nz-form-control>
                                    <nz-switch
                                      name="verified"
                                      [(ngModel)]="
                                        drawerDataStudent.IS_VERIFIED
                                      "
                                      nzCheckedChildren="Yes"
                                      nzUnCheckedChildren="No"
                                    ></nz-switch>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <h6
                                  style="
                                    margin-left: 11px;
                                    font-size: 15px;
                                    font-weight: 600;
                                    margin-bottom: 11px;
                                  "
                                >
                                  Address Details :
                                </h6>
                              </div>
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="24"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon
                                    >Address</nz-form-label
                                  >
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Enter Address"
                                  >
                                    <textarea
                                      rows="3"
                                      nz-input
                                      placeholder="Address"
                                      name="address"
                                      maxlength="256"
                                      required
                                      [(ngModel)]="drawerDataStudent.ADDRESS"
                                    ></textarea>
                                    <h6
                                      style="color: red; font-size: 10px"
                                      *ngIf="drawerDataStudent.ADDRESS"
                                    >
                                      {{ drawerDataStudent.ADDRESS.length }}/256
                                    </h6>
                                    <h6
                                      style="color: red; font-size: 10px"
                                      *ngIf="!drawerDataStudent.ADDRESS"
                                    >
                                      0/256
                                    </h6>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
              <nz-form-item>
                <nz-form-label nzRequired nzNoColon> Country </nz-form-label>
                <nz-form-control
                  nzHasFeedback
                  nzErrorTip="Please Select Country "
                >
                  <nz-select
                    [nzLoading]="countryload"
                    nzShowSearch
                    nzAllowClear
                    nzPlaceHolder="Select Country"
                    name="country"
                    (ngModelChange)="getallStates($event)"
                    [(ngModel)]="drawerDataStudent.COUNTRY_ID"
                    required
                    [nzDisabled]="true"
                  >
                    <nz-option
                      *ngFor="let report of countrys"
                      [nzValue]="report.ID"
                      [nzLabel]="report.NAME"
                    >
                    </nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div> -->
                              <div
                                nz-col
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    Country
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Select Country "
                                  >
                                    <nz-select
                                      [nzLoading]="countryload"
                                      nzShowSearch
                                      nzAllowClear
                                      nzPlaceHolder="Select Country"
                                      name="country"
                                      (ngModelChange)="getallStates($event)"
                                      [(ngModel)]="drawerDataStudent.COUNTRY_ID"
                                      required
                                    >
                                      <nz-option
                                        *ngFor="let report of countrys"
                                        [nzValue]="report.ID"
                                        [nzLabel]="report.NAME"
                                      >
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                                *ngIf="showState === 0"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    State Name
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Enter Valid State Name"
                                  >
                                    <input
                                      nz-input
                                      autocomplete="off"
                                      name="statename"
                                      placeholder="Enter State Name"
                                      [(ngModel)]="drawerDataStudent.STATE_NAME"
                                      minlength="4"
                                      maxlength="256"
                                      required
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <div
                                nz-col
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                                *ngIf="showState !== 0"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    State
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Select State "
                                  >
                                    <nz-select
                                      [nzLoading]="stateload"
                                      nzShowSearch
                                      nzAllowClear
                                      nzPlaceHolder="Select State"
                                      (ngModelChange)="getALlDistrict($event)"
                                      name="state"
                                      [(ngModel)]="drawerDataStudent.STATE_ID"
                                      required
                                    >
                                      <nz-option
                                        *ngFor="let report of States"
                                        [nzValue]="report.ID"
                                        [nzLabel]="report.NAME"
                                      >
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12" *ngIf="(!countryWithStatesAvailable || countryWithStatesAvailable['IS_STATE_AVALIBLE'] !== 0 ) || (!stateWithDistrictsAvailable || stateWithDistrictsAvailable['IS_DISTRICT_AVALIBLE'] !== 0)"> -->
                              <div
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                                *ngIf="showDistrictByState == 1"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    District
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip=" Please Select Valid District"
                                  >
                                    <nz-select
                                      nzShowArrow="true"
                                      [nzLoading]="districtload"
                                      nzShowSearch
                                      nzAllowClear
                                      name="disctrictselect"
                                      [(ngModel)]="
                                        drawerDataStudent.DISTRICT_ID
                                      "
                                      nzPlaceHolder="Select District"
                                      required
                                    >
                                      <nz-option
                                        *ngFor="let report of districts"
                                        [nzValue]="report.ID"
                                        [nzLabel]="report.NAME"
                                      >
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>

                              <!-- <div nz-col nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12" *ngIf="(countryWithStatesAvailable && countryWithStatesAvailable['IS_STATE_AVALIBLE'] === 0) ||  (!stateWithDistrictsAvailable || stateWithDistrictsAvailable['IS_DISTRICT_AVALIBLE'] === 0)"> -->
                              <div
                                nz-col
                                nz-col
                                nzXs="24"
                                nzSm="24"
                                nzMd="24"
                                nzLg="24"
                                nzXl="12"
                                *ngIf="showDistrictByState == 0"
                              >
                                <nz-form-item class="nz-form-item">
                                  <nz-form-label nzRequired nzNoColon>
                                    District Name
                                  </nz-form-label>
                                  <nz-form-control
                                    nzHasFeedback
                                    nzErrorTip="Please Enter Valid District Name"
                                  >
                                    <input
                                      nz-input
                                      autocomplete="off"
                                      name="districtnm"
                                      placeholder="Enter District Name"
                                      [(ngModel)]="
                                        drawerDataStudent.DISTRICT_NAME
                                      "
                                      minlength="4"
                                      maxlength="256"
                                      required
                                    />
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                              <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
              <nz-form-item class="nz-form-item">
                <nz-form-label nzRequired nzNoColon> City </nz-form-label>
                <nz-form-control nzHasFeedback nzErrorTip="Please Select City ">
                  <nz-select
                    [nzLoading]="cityload"
                    nzShowSearch
                    nzAllowClear
                    nzPlaceHolder="Select City"
                    name="City"
                    [(ngModel)]="drawerDataStudent.CITY_ID"
                    required
                  >
                    <nz-option
                      *ngFor="let report of citys"
                      [nzValue]="report.ID"
                      [nzLabel]="report.NAME"
                    >
                    </nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div> -->
                            </div>
                          </div>

                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="11">
          <div nz-row class="my-box">
            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
              <h6
                style="
                  margin-left: 11px;
                  font-size: 15px;
                  font-weight: 600;
                  margin-bottom: 11px;
                "
              >
                School Details :
              </h6>
            </div>

            <!-- <div nz-col nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="8">
              <nz-form-label nzRequired nzNoColon>Role Number</nz-form-label>

              <nz-form-item class="nz-form-item">
                <nz-form-control nzErrorTip="Please Enter Valid Role No">
                  <input
                    nz-input
                    autocomplete="off"
                    name="role"
                    placeholder="Enter Role No."
                    (keypress)="commonFunction.omit($event)"
                    [(ngModel)]="drawerDataStudent.ROLE_NUMBER"
                    required
                  />
                </nz-form-control>
              </nz-form-item>
            </div>

            <div nz-col nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="8">
              <nz-form-label nzRequired nzNoColon>PRN Number</nz-form-label>

              <nz-form-item class="nz-form-item">
                <nz-form-control nzErrorTip="Please Enter Valid PRN No">
                  <input
                    nz-input
                    autocomplete="off"
                    name="prnno"
                    placeholder="Enter PRN No."
                    (keypress)="commonFunction.omit($event)"
                    [(ngModel)]="drawerDataStudent.PRN_NO"
                    required
                  />
                </nz-form-control>
              </nz-form-item>
            </div> -->

                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
              <nz-form-item class="nz-form-item">
                <nz-form-label nzRequired nzNoColon> Class Name </nz-form-label>
                <nz-form-control
                  nzHasFeedback
                  nzErrorTip=" Please Select Valid Class Name"
                >
                  <nz-select
                    nzShowArrow="true"
                    nzShowSearch
                    nzAllowClear
                    name="classselect"
                    [(ngModel)]="drawerDataStudent.CLASS_ID"
                    nzPlaceHolder="Select Class"
                  >
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div> -->
                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
              <nz-form-item class="nz-form-item">
                <nz-form-label nzRequired nzNoColon>
                  Division Name
                </nz-form-label>
                <nz-form-control
                  nzHasFeedback
                  nzErrorTip=" Please Select Valid Division Name"
                >
                  <nz-select
                    nzShowArrow="true"
                    nzShowSearch
                    nzAllowClear
                    name="divisionselect"
                    [(ngModel)]="drawerDataStudent.DIVISION_ID"
                    nzPlaceHolder="Select Division"
                  >
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div> -->
                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
              <nz-form-item class="nz-form-item">
                <nz-form-label nzRequired nzNoColon> Year </nz-form-label>
                <nz-form-control
                  nzHasFeedback
                  nzErrorTip=" Please Select Valid Year"
                >
                  <nz-select
                    nzShowArrow="true"
                    nzShowSearch
                    nzAllowClear
                    name="yearselect"
                    [(ngModel)]="drawerDataStudent.YEAR_ID"
                    nzPlaceHolder="Select Year"
                  >
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div> -->
                          <!-- <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
              <nz-form-item class="nz-form-item">
                <nz-form-label nzRequired nzNoColon>
                  Is Student Member
                </nz-form-label>
                <nz-form-control
                  nzErrorTip=" Please Select a option"
                >
                  <nz-radio-group
                    name="radiogrp"
                    [(ngModel)]="drawerDataStudent.IS_STUDENT_MEMBER"
                  >
                    <label nz-radio nzValue="S">Student</label>
                    <label nz-radio nzValue="M">Member</label>
                  </nz-radio-group>
                </nz-form-control>
              </nz-form-item>
            </div> --
          </div>
        </div> -->
                        </div>
                        <div
                          nz-row
                          class="my-box custom-form-item11"
                          *ngIf="isAdd"
                        >
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="20"
                            nzLg="24"
                            nzXl="24"
                          >
                            <h6
                              style="
                                margin-left: 11px;
                                font-size: 15px;
                                font-weight: 600;
                                margin-bottom: 11px;
                              "
                            >
                              School Details :
                            </h6>
                          </div>
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="20"
                            nzLg="6"
                            nzXl="6"
                          >
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon>
                                Year
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Select Year"
                              >
                                <nz-select
                                  nzShowArrow="true"
                                  nzShowSearch
                                  nzAllowClear
                                  name="year"
                                  [(ngModel)]="drawerDataStudent.YEAR_ID"
                                  nzPlaceHolder="Select Year"
                                  required
                                >
                                  <nz-option
                                    *ngFor="let year of yearlist"
                                    [nzValue]="year.ID"
                                    [nzLabel]="year.YEAR"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="20"
                            nzLg="6"
                            nzXl="6"
                          >
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon>
                                Class
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip=" Please Select Class"
                              >
                                <nz-select
                                  nzShowArrow="true"
                                  nzShowSearch
                                  nzAllowClear
                                  name="class"
                                  [(ngModel)]="drawerDataStudent.CLASS_ID"
                                  nzPlaceHolder="Select Class"
                                  required
                                >
                                  <nz-option
                                    *ngFor="let class of classlist"
                                    [nzValue]="class.ID"
                                    [nzLabel]="class.NAME"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="20"
                            nzLg="6"
                            nzXl="6"
                          >
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon>
                                Division
                              </nz-form-label>
                              <nz-form-control
                                nzHasFeedback
                                nzErrorTip="Please Select Division "
                              >
                                <nz-select
                                  [nzLoading]="divisionload"
                                  nzShowSearch
                                  nzAllowClear
                                  nzPlaceHolder="Select Division"
                                  name="division"
                                  [(ngModel)]="drawerDataStudent.DIVISION_ID"
                                  required
                                >
                                  <nz-option
                                    [nzValue]="0"
                                    [nzLabel]="'NA'"
                                  ></nz-option>
                                  <nz-option
                                    *ngFor="let cl of divisionlist"
                                    [nzValue]="cl.ID"
                                    [nzLabel]="cl.NAME"
                                  >
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="20"
                            nzLg="6"
                            nzXl="6"
                          >
                            <nz-form-item>
                              <nz-form-label nzRequired nzNoColon
                                >Medium</nz-form-label
                              >
                              <nz-form-control nzHasFeedback>
                                <nz-select
                                  name="Medium"
                                  nzShowSearch
                                  nzAllowClear
                                  style="width: 100%"
                                  nzPlaceHolder="Select Medium"
                                  [(ngModel)]="drawerDataStudent.MEDIUM_ID"
                                >
                                  <nz-option
                                    *ngFor="let Div of Mediumlist"
                                    [nzValue]="Div.ID"
                                    [nzLabel]="Div.NAME"
                                  >
                                  </nz-option>
                                  <nz-option [nzValue]="0" [nzLabel]="'NA'">
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div
                            nz-col
                            nzXs="24"
                            nzSm="24"
                            nzMd="20"
                            nzLg="6"
                            nzXl="6"
                          >
                            <nz-form-label nzRequired nzNoColon
                              >Roll Number</nz-form-label
                            >

                            <nz-form-item>
                              <nz-form-control
                                nzErrorTip="Please Enter Valid Roll No"
                              >
                                <input
                                  nz-input
                                  autocomplete="off"
                                  name="rno"
                                  placeholder="Enter Roll No."
                                  (keypress)="commonFunction.omit($event)"
                                  [(ngModel)]="drawerDataStudent.ROLL_NUMBER"
                                  required
                                  maxlength="7"
                                />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                      </nz-spin>
                    </form>

                    <div class="footer">
                      <button
                        type="button"
                        nz-button
                        (click)="closeStudent()"
                        class="ant-btn"
                        style="margin-right: 8px"
                      >
                        <span>Cancel</span>
                      </button>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        *ngIf="!drawerDataStudent.ID"
                        nz-button
                        nz-dropdown
                        [nzDropdownMenu]="menu"
                        [nzLoading]="studentIsSpinning"
                        (click)="studentSave(false, Employee)"
                      >
                        <span>Save & Close</span>
                      </button>
                      <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                          <li
                            nz-menu-item
                            class="menuc"
                            style="
                              border-radius: 4px;
                              background-color: #40a9ff;
                            "
                          >
                            <a
                              style="color: white"
                              (click)="studentSave(true, Student)"
                              >Save & New</a
                            >
                          </li>
                        </ul>
                      </nz-dropdown-menu>
                      <button
                        type="button"
                        class="ant-btn ant-btn-primary"
                        nz-button
                        [nzLoading]="isSpinning"
                        *ngIf="drawerDataStudent.ID"
                        (click)="studentSave(false, Employee)"
                      >
                        <span>Update & close</span>
                      </button>
                    </div>
                  </div>
                </ng-container>
              </nz-drawer>
            </div>

            <nz-drawer
              [nzBodyStyle]="{
                height: 'calc(100% - 55px)',
                overflow: 'auto',
                'padding-bottom': '53px'
              }"
              [nzClosable]="true"
              [nzMask]="true"
              [nzMaskClosable]="false"
              [nzWidth]="1100"
              [nzVisible]="exceldrawervisible"
              [nzTitle]="exceldrawerTitle"
              (nzOnClose)="exceldrawerClose()"
              (nzKeyboard)="(true)"
            >
              <ng-container *nzDrawerContent>
                <div>
                  <form nz-form #studentimport="ngForm">
                    <div
                      nz-row
                      class="custom-form-item"
                      style="display: flex; justify-content: center"
                    >
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="12"
                        nzLg="6"
                        nzXl="6"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon>
                            Year
                          </nz-form-label>
                          <nz-form-control
                            nzHasFeedback
                            nzErrorTip=" Please Select Valid Year"
                          >
                            <nz-select
                              nzShowArrow="true"
                              nzShowSearch
                              nzAllowClear
                              name="year"
                              [(ngModel)]="dataMappingStudent.YEAR_ID"
                              nzPlaceHolder="Select Year"
                            >
                              <nz-option
                                *ngFor="let year of yearlist"
                                [nzValue]="year.ID"
                                [nzLabel]="year.YEAR"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="12"
                        nzLg="6"
                        nzXl="6"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon>
                            Class
                          </nz-form-label>
                          <nz-form-control
                            nzHasFeedback
                            nzErrorTip=" Please Select Valid Class"
                          >
                            <nz-select
                              nzShowArrow="true"
                              nzShowSearch
                              nzAllowClear
                              name="class"
                              [(ngModel)]="dataMappingStudent.CLASS_ID"
                              nzPlaceHolder="Select Class"
                            >
                              <nz-option
                                *ngFor="let class of Classes"
                                [nzValue]="class.ID"
                                [nzLabel]="class.NAME"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="24"
                        nzLg="6"
                        nzXl="6"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon>
                            Division
                          </nz-form-label>
                          <nz-form-control
                            nzHasFeedback
                            nzErrorTip="Please Select Division "
                          >
                            <nz-select
                              [nzLoading]="divisionload"
                              nzShowSearch
                              nzAllowClear
                              nzPlaceHolder="Select Division"
                              name="division"
                              [(ngModel)]="dataMappingStudent.DIVISION_ID"
                              required
                            >
                              <nz-option
                                [nzValue]="0"
                                [nzLabel]="'NA'"
                              ></nz-option>
                              <nz-option
                                *ngFor="let cl of divisionlist"
                                [nzValue]="cl.ID"
                                [nzLabel]="cl.NAME"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="24"
                        nzLg="6"
                        nzXl="6"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon
                            >Medium</nz-form-label
                          >
                          <nz-form-control nzHasFeedback>
                            <nz-select
                              name="Medium"
                              nzShowSearch
                              nzAllowClear
                              style="width: 100%"
                              nzPlaceHolder="Select Medium"
                              [(ngModel)]="dataMappingStudent.MEDIUM_ID"
                            >
                              <nz-option
                                *ngFor="let Div of Mediumlist"
                                [nzValue]="Div.ID"
                                [nzLabel]="Div.NAME"
                              >
                              </nz-option>
                              <nz-option [nzValue]="0" [nzLabel]="'NA'">
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                    </div>

                    <div nz-row>
                      <div nz-col nzSpan="24">
                        <nz-spin [nzSpinning]="isSpinning">
                          <div
                            nz-row
                            style="
                              display: flex;
                              justify-content: center;
                              align-items: center;
                              gap: 10px;
                              padding-top: 10px;
                            "
                          >
                            <button
                              nz-button
                              style="border-radius: 5px"
                              nzType="primary"
                            >
                              <a href="assets/Studentimport.xlsx" download>
                                <span
                                  nz-icon
                                  nzType="download"
                                  nzTheme="outline"
                                ></span
                                >&nbsp;Download Sample Excel Sheet
                              </a>
                            </button>

                            <button
                              type="button"
                              nz-button
                              style="border-radius: 5px"
                              nzType="primary"
                              (click)="fileInput.click()"
                              [disabled]="
                                !dataMappingStudent.YEAR_ID ||
                                !dataMappingStudent.CLASS_ID ||
                                dataMappingStudent.DIVISION_ID < 0 ||
                                dataMappingStudent.DIVISION_ID == undefined ||
                                dataMappingStudent.MEDIUM_ID < 0 ||
                                dataMappingStudent.MEDIUM_ID == undefined
                              "
                            >
                              <input
                                #fileInput
                                name="otherimage"
                                accept=".xlsx, .xls"
                                type="file"
                                (change)="FileSelect($event)"
                                style="display: none"
                              />Select Excel Sheet
                            </button>

                            <button
                              nz-popconfirm
                              style="border-radius: 5px"
                              nzType="primary"
                              [disabled]="
                                FILE_NAME == undefined ||
                                FILE_NAME == null ||
                                FILE_NAME == ''
                              "
                              nzPopconfirmTitle="Are you sure to upload this Student data?"
                              (nzOnConfirm)="confirmStudentData()"
                              (nzOnCancel)="cancel()"
                              nzOkText="Yes"
                              nzCancelText="No"
                              nzPopconfirmPlacement="bottom"
                              nz-button
                            >
                              Upload Students Data
                            </button>

                            <button
                              (click)="clear1()"
                              type="button"
                              nz-button
                              [disabled]="
                                FILE_NAME == undefined ||
                                FILE_NAME == null ||
                                FILE_NAME == ''
                              "
                              style="border-radius: 5px"
                              nzType="default"
                            >
                              Clear
                            </button>
                          </div>
                        </nz-spin>
                      </div>
                    </div>
                  </form>

                  <div nz-row style="margin-top: 10px">
                    <div nz-col nzSpan="24">
                      <nz-table
                        class="my-scroll no-wrap1 scrollbar"
                        nzBordered
                        *ngIf="FILE_NAME != null && FILE_NAME != undefined"
                        [nzFrontPagination]="false"
                        [nzData]="ExcelData"
                        [nzSize]="'small'"
                        [nzScroll]="{
                          x: arrayofheader.length > 9 ? '2000px' : '',
                          y: '390px'
                        }"
                        [nzLoading]="excelLoading"
                      >
                        <thead>
                          <tr>
                            <th
                              nzWidth="100px"
                              *ngFor="let data1 of arrayofheader"
                              style="text-align: center; font-weight: bold"
                            >
                              {{ data1 }}
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of ExcelData; let i = index">
                            <td
                              *ngFor="let head of arrayofheader"
                              style="white-space: pre-line; text-align: left"
                            >
                              {{ data[head] }}
                            </td>
                          </tr>
                        </tbody>
                      </nz-table>
                    </div>
                  </div>

                  <div class="footer">
                    <button
                      type="button"
                      nz-button
                      (click)="exceldrawerClose()"
                      class="ant-btn"
                      style="margin-right: 8px"
                    >
                      <span> Cancel </span>
                    </button>
                  </div>
                </div>
              </ng-container>
            </nz-drawer>

            <nz-modal
              [(nzVisible)]="isVisible12"
              nzTitle="Map Class"
              (nzOnCancel)="mapClassHandleCancel()"
              [nzWidth]="'50%'"
              [nzOkLoading]="nzOkLoading"
            >
              <ng-container *nzModalContent>
                <nz-spin [nzSpinning]="modelLoading">
                  <div nz-row class="custom-form-item">
                    <div
                      nz-col
                      nzXs="24"
                      nzSm="24"
                      nzMd="12"
                      nzLg="11"
                      nzXl="11"
                      class="my-box"
                    >
                      <div nz-row style="padding: 0px 10px">
                        <div nz-col nzSpan="24">
                          <b>Previously Mapped Class Details</b>
                        </div>
                        <div
                          nz-col
                          nzXs="24"
                          nzSm="24"
                          nzMd="12"
                          nzLg="6"
                          nzXl="24"
                        >
                          <div nz-row>
                            <div nz-col nzSpan="10">
                              <b style="color: #333">Year</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="13">
                              <span *ngIf="showData">{{ showData.YEAR }}</span>
                            </div>
                          </div>
                        </div>
                        <div
                          nz-col
                          nzXs="24"
                          nzSm="24"
                          nzMd="12"
                          nzLg="6"
                          nzXl="24"
                        >
                          <div nz-row>
                            <div nz-col nzSpan="10">
                              <b style="color: #333">Class Name</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>: </b>
                            </div>
                            <div nz-col nzSpan="13">
                              <span *ngIf="showData">{{
                                showData.CLASS_NAME
                              }}</span>
                            </div>
                          </div>
                        </div>
                        <div
                          nz-col
                          nzXs="24"
                          nzSm="24"
                          nzMd="24"
                          nzLg="6"
                          nzXl="24"
                        >
                          <div nz-row>
                            <div nz-col nzSpan="10">
                              <b style="color: #333">Division</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="13">
                              <span
                                *ngIf="showData && showData.DIVISION_ID != 0"
                                >{{ showData.DIVISION_NAME }}</span
                              >
                              <span
                                *ngIf="showData && showData.DIVISION_ID == 0"
                                >NA</span
                              >
                            </div>
                          </div>
                        </div>
                        <div
                          nz-col
                          nzXs="24"
                          nzSm="24"
                          nzMd="24"
                          nzLg="6"
                          nzXl="24"
                        >
                          <div nz-row>
                            <div nz-col nzSpan="10">
                              <b style="color: #333">Medium</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="13">
                              <span
                                *ngIf="showData && showData.MEDIUM_ID != 0"
                                >{{ showData.MEDIUM_NAME }}</span
                              >
                              <span *ngIf="showData && showData.MEDIUM_ID == 0"
                                >NA</span
                              >
                            </div>
                          </div>
                        </div>
                        <div
                          nz-col
                          nz-col
                          nzXs="24"
                          nzSm="24"
                          nzMd="24"
                          nzLg="6"
                          nzXl="24"
                        >
                          <div nz-row>
                            <div nz-col nzSpan="10">
                              <b style="color: #333">Roll Number</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="13">
                              <span *ngIf="showData">{{
                                showData.ROLL_NUMBER
                              }}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div nz-col nzSpan="1"></div>
                    <div
                      nz-col
                      nzXs="24"
                      nzSm="24"
                      nzMd="12"
                      nzLg="12"
                      nzXl="12"
                      class="my-box"
                    >
                      <div nz-col style="padding: 0px 10px" nzSpan="24">
                        <b>New Class Mapping</b>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="12"
                        nzLg="24"
                        nzXl="24"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon>
                            Year
                          </nz-form-label>
                          <nz-form-control
                            nzHasFeedback
                            nzErrorTip=" Please Select Year"
                          >
                            <nz-select
                              nzShowArrow="true"
                              nzShowSearch
                              nzAllowClear
                              name="year"
                              [(ngModel)]="dataMappingStudent.YEAR_ID"
                              nzPlaceHolder="Select Year"
                              required
                            >
                              <nz-option
                                *ngFor="let year of yearlist"
                                [nzValue]="year.ID"
                                [nzLabel]="year.YEAR"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="12"
                        nzLg="24"
                        nzXl="24"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon>
                            Class
                          </nz-form-label>
                          <nz-form-control
                            nzHasFeedback
                            nzErrorTip=" Please Select Class"
                          >
                            <nz-select
                              nzShowArrow="true"
                              nzShowSearch
                              nzAllowClear
                              name="class"
                              [(ngModel)]="dataMappingStudent.CLASS_ID"
                              nzPlaceHolder="Select Class"
                              required
                            >
                              <nz-option
                                *ngFor="let class of Classes"
                                [nzValue]="class.ID"
                                [nzLabel]="class.NAME"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="24"
                        nzLg="24"
                        nzXl="24"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon>
                            Division
                          </nz-form-label>
                          <nz-form-control
                            nzHasFeedback
                            nzErrorTip="Please Select Division "
                          >
                            <nz-select
                              [nzLoading]="divisionload"
                              nzShowSearch
                              nzAllowClear
                              nzPlaceHolder="Select Division"
                              name="division"
                              [(ngModel)]="dataMappingStudent.DIVISION_ID"
                              required
                            >
                              <nz-option
                                [nzValue]="0"
                                [nzLabel]="'NA'"
                              ></nz-option>
                              <nz-option
                                *ngFor="let cl of divisionlist"
                                [nzValue]="cl.ID"
                                [nzLabel]="cl.NAME"
                              >
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="24"
                        nzLg="24"
                        nzXl="24"
                      >
                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon
                            >Medium</nz-form-label
                          >
                          <nz-form-control nzHasFeedback>
                            <nz-select
                              name="Medium"
                              nzShowSearch
                              nzAllowClear
                              style="width: 100%"
                              nzPlaceHolder="Select Medium"
                              [(ngModel)]="dataMappingStudent.MEDIUM_ID"
                            >
                              <nz-option
                                *ngFor="let Div of Mediumlist"
                                [nzValue]="Div.ID"
                                [nzLabel]="Div.NAME"
                              >
                              </nz-option>
                              <nz-option [nzValue]="0" [nzLabel]="'NA'">
                              </nz-option>
                            </nz-select>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div
                        nz-col
                        nzXs="24"
                        nzSm="24"
                        nzMd="24"
                        nzLg="24"
                        nzXl="24"
                      >
                       

                        <nz-form-item class="nz-form-item">
                          <nz-form-label nzRequired nzNoColon
                          >Roll Number</nz-form-label
                        >
                          <nz-form-control
                            nzErrorTip="Please Enter Valid Roll No"
                          >
                            <input
                              nz-input
                              autocomplete="off"
                              name="idno"
                              placeholder="Enter Roll No."
                              (keypress)="commonFunction.omit($event)"
                              [(ngModel)]="dataMappingStudent.ROLL_NUMBER"
                              required
                              maxlength="7"
                            />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                    </div>
                  </div>
                </nz-spin>
              </ng-container>
              <div *nzModalFooter>
                <button
                  nz-button
                  nzType="default"
                  [nzCondition]="switchValue"
                  (click)="mapClassHandleCancel()"
                >
                  Cancel
                </button>
                <button
                  nz-button
                  nzType="primary"
                  [nzCondition]="switchValue"
                  nz-popconfirm
                  nzPopconfirmTitle="Are You Sure You Want To Map Class?"
                  nzPopconfirmPlacement="top"
                  (nzOnConfirm)="finalstudentconfirm()"
                  (click)="handleOk()"
                >
                  Map Class
                </button>
              </div>
            </nz-modal>
            <div *ngIf="drawerVisibleMap">
              <nz-drawer
                [nzBodyStyle]="{
                  height: 'calc(100% - 55px)',
                  overflow: 'auto',
                  'padding-bottom': '53px'
                }"
                [nzClosable]="true"
                [nzMask]="true"
                [nzMaskClosable]="false"
                [nzWidth]="950"
                [nzVisible]="drawerVisibleMap"
                [nzTitle]="drawerTitleMap"
                (nzOnClose)="drawerCloseMap()"
                (nzKeyboard)="(true)"
              >
                <ng-container *nzDrawerContent>
                  <app-StudentWiseFeeMap
                    [drawerClose]="closeCallbackMap"
                    [drawerVisible]="drawerVisibleMap"
                    [classId]="classId"
                    [classNAME]="classNAME"
                  ></app-StudentWiseFeeMap>
                </ng-container>
              </nz-drawer>
            </div>
            <nz-modal
              [(nzVisible)]="studentPreviewVisible"
              [nzTitle]="modalTitle"
              [nzContent]="modalContent"
              [nzFooter]="modalFooter"
              (nzOnCancel)="studentHandleCancel()"
              [nzWidth]="800"
              nzMask="false"
            >
              <ng-template #modalTitle>Student Details </ng-template>
              <ng-template #modalContent>
                <div id="print" style="height: 100%; padding: 5px">
                  <div class="asdfgh" nz-row>
                    <div
                      nz-col
                      nzSpan="6"
                      *ngIf="
                        STUDENT_DATALIST.PROFILE_PHOTO !== null &&
                        STUDENT_DATALIST.PROFILE_PHOTO !== undefined &&
                        STUDENT_DATALIST.PROFILE_PHOTO !== ''
                      "
                    >
                      <div
                        *ngIf="
                          STUDENT_DATALIST.PROFILE_PHOTO !== null &&
                          STUDENT_DATALIST.PROFILE_PHOTO !== undefined &&
                          STUDENT_DATALIST.PROFILE_PHOTO !== ''
                        "
                        style="
                          display: flex;
                          flex-direction: column;
                          align-items: center;
                        "
                      >
                        <!-- First row -->
                        <div style="display: flex; justify-content: center">
                          <div>
                            <!-- <img width="70%" nz-image style="    width: 246px;
                        height: 140px;margin-left: 16px;margin-bottom: 10px;"
                          src="{{ imgurl }}classWiseTask/{{ STUDENT_DATALIST.PROFILE_PHOTO }}" /> -->

                            <!-- <span>
                            {{taskurl}}
                          </span> -->
                            <img
                              class="img"
                              nz-image
                              style="border-radius: 5px"
                              width="100%"
                              height="100%"
                              [nzSrc]="taskurl"
                              alt="No Image Found"
                            />
                            <!-- <img class="img" nz-image style="border-radius: 5px" width="100%" height="100%"
                              [nzSrc]="taskurl" alt="No Image Found" /> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      nz-col
                      nzSpan="1"
                      *ngIf="
                        STUDENT_DATALIST.PROFILE_PHOTO !== null &&
                        STUDENT_DATALIST.PROFILE_PHOTO !== undefined &&
                        STUDENT_DATALIST.PROFILE_PHOTO !== ''
                      "
                    ></div>
                    <div nz-col nzSpan="12">
                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b>Student Name</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ STUDENT_DATALIST.NAME }}</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b>Email Id</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ STUDENT_DATALIST.EMAIL_ID }}</span>
                            </div>
                          </div>
                        </div>

                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b>Mobile Number</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{ STUDENT_DATALIST.MOBILE_NUMBER }}</span>
                            </div>
                          </div>
                        </div>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="8">
                              <b>Identity Number</b>
                            </div>

                            <div nz-col nzSpan="1">
                              <b>:</b>
                            </div>
                            <div nz-col nzSpan="15">
                              <span>{{
                                STUDENT_DATALIST.IDENTITY_NUMBER
                              }}</span>
                            </div>
                          </div>
                        </div>
                        <div nz-col nzSpan="24">
                          <div nz-row>
                            <div nz-col nzSpan="24">
                              <div nz-row>
                                <div nz-col nzSpan="8">
                                  <b>Class </b>
                                </div>

                                <div nz-col nzSpan="1">
                                  <b>:</b>
                                </div>
                                <div nz-col nzSpan="15">
                                  <span>{{ STUDENT_DATALIST.CLASS_NAME }}</span>
                                </div>
                              </div>
                            </div>

                            <div nz-col nzSpan="24">
                              <div nz-row>
                                <div nz-col nzSpan="8">
                                  <b>Division</b>
                                </div>

                                <div nz-col nzSpan="1">
                                  <b>:</b>
                                </div>
                                <div nz-col nzSpan="15">
                                  <span>{{
                                    STUDENT_DATALIST.DIVISION_NAME
                                  }}</span>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div nz-row>
                            <div nz-col nzSpan="24">
                              <!-- <div nz-row>
                                <div nz-col nzSpan="8">
                                  <b>Medium</b>
                                </div>

                                <div nz-col nzSpan="1">
                                  <b>:</b>
                                </div>
                                <div nz-col nzSpan="15">
                                  <span>{{
                                    STUDENT_DATALIST.TEMP_MEDIUM_NAME
                                    }}</span>
                                </div>
                              </div> -->
                              <div nz-row>
                                <div nz-col nzSpan="8">
                                  <b>Year</b>
                                </div>

                                <div nz-col nzSpan="1">
                                  <b>:</b>
                                </div>
                                <div nz-col nzSpan="15">
                                  <span>{{ STUDENT_DATALIST.YEAR }}</span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div style="width: 100%">
                  <div nz-row *ngIf="StudentStatusButton == 'P'">
                    <div nz-col nzSpan="24">
                      <nz-radio-group
                        name="availfor"
                        style="margin-top: 23px"
                        [(ngModel)]="STUDENT_DATALIST.APPROVAL_STATUS"
                        required
                      >
                        <label nz-radio [nzValue]="'A'">Approve </label>
                        <label nz-radio [nzValue]="'R'">Reject</label>
                      </nz-radio-group>
                    </div>
                    <div
                      nz-col
                      nzSpan="12"
                      *ngIf="STUDENT_DATALIST.APPROVAL_STATUS == 'R'"
                      class="custom-form-item"
                    >
                      <nz-form-item>
                        <nz-form-label nzRequired nzNoColon>
                          Enter
                          {{
                            STUDENT_DATALIST.APPROVAL_STATUS == "R"
                              ? "Reject"
                              : "Blocked"
                          }}
                          Remark
                        </nz-form-label>
                        <nz-form-control
                          nzHasFeedback
                          nzErrorTip="Please  Enter {{
                            STUDENT_DATALIST.APPROVAL_STATUS == 'R'
                              ? 'Reject'
                              : 'Blocked'
                          }} Remark"
                        >
                          <textarea
                            rows="2"
                            required
                            nz-input
                            maxlength="256"
                            minlength="2"
                            name="remark1"
                            placeholder="Enter Remark"
                            [(ngModel)]="STUDENT_DATALIST.REJECT_BLOCKED_REMARK"
                          ></textarea>
                          <span
                            style="color: red; font-size: 10px"
                            *ngIf="STUDENT_DATALIST.REJECT_BLOCKED_REMARK"
                            >{{
                              STUDENT_DATALIST.REJECT_BLOCKED_REMARK.length
                            }}/256</span
                          >
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                  </div>
                </div>
              </ng-template>
              <ng-template #modalFooter>
                <button
                  nz-button
                  nzType="default"
                  (click)="studentHandleCancel()"
                >
                  Cancel
                </button>
                <button
                  *ngIf="StudentStatusButton == 'P'"
                  nz-button
                  nzType="primary"
                  (click)="SubmitStudentStatus()"
                >
                  Submit Status
                </button>
              </ng-template>
            </nz-modal>
          </div>
        </ng-container>
        <ng-template #modalFooter>
          <div>
            <button
              *ngIf="current != 0"
              nz-button
              nzType="default"
              (click)="pre()"
            >
              Previous
            </button>
            <button
              *ngIf="current <= 5"
              [disabled]="NextButton"
              nz-button
              nzType="default"
              (click)="next()"
            >
              Next
            </button>
            <button
              *ngIf="current <= 5"
              nz-button
              nzType="default"
              (click)="skip()"
            >
              Skip
            </button>

            <button nz-button nzType="primary" (click)="modalClose()">
              Cancel
            </button>
          </div>
        </ng-template>
      </nz-modal>

      <!-- <div class="footer">
        <button nz-button nzType="default" (click)="next()">Next</button>
      </div> -->
      <!-- </nz-spin> -->
    </form>
  </div>
</div>
