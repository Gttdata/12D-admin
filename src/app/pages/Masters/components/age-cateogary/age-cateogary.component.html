<div nz-row nzType="flex">
    <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="8">
        <div class="formname">
            <b> {{ formTitle }} </b>
        </div>
    </div>

    <div nz-col nzXs="24" nzSm="24" nzMd="4" nzLg="6" nzXl="16" style="display: flex; justify-content: flex-end">
        <form nz-form [nzLayout]="'inline'">
            <nz-form-item>
                <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                    <input type="text" name="aboutsearch" (keyup)="keyup($event)" [(ngModel)]="searchText" nz-input
                        placeholder=" Search Record" />
                </nz-input-group>
                <ng-template #suffixIconButton>
                    <button nz-button nzType="primary" (click)="search(true)" nzSearch>
                        <i nz-icon nzType="search"></i>
                    </button>
                </ng-template>
            </nz-form-item>
            <nz-form-item>
                <button nz-button nzType="primary" (click)="add()" nzJustify="end">
                    <i nz-icon nzType="plus"></i>Add New Age Group 
                </button>
            </nz-form-item>
        </form>
    </div>
</div>
<br />
<div nz-row>
    <div nz-col nzSpan="24">
        <nz-table class="my-scroll no-wrap1" nzBordered #agemasterdata nzShowSizeChanger [nzFrontPagination]="false"
            [nzData]="dataList" [nzLoading]="loadingRecords" [nzSize]="'small'" 
            [nzTotal]="totalRecords" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize"  [nzScroll]="{ x: '900px', y: '55vh' }"
            (nzPageIndexChange)="search()" (nzPageSizeChange)="search(true)" (nzQueryParams)="sort($event)">
            <thead>
                <tr>
                    <th nzLeft nzWidth="20px" >Action</th>

                    <th nzColumnKey="{{ 'LABEL' }}" [nzSortFn]="true" nzWidth="130px" >
                        Age Group Name
                    </th>

                    <th nzColumnKey="{{ 'FROM_AGE' }}" [nzSortFn]="true" nzWidth="30px" >
                        Min Age
                    </th>
                    <th nzColumnKey="{{ 'TO_AGE' }}" [nzSortFn]="true" nzWidth="30px" >
                        Max Age
                    </th>
                    <!-- <th nzColumnKey="{{ 'SEQ_NO' }}" [nzSortFn]="true" nzWidth="20px" >
                        Seq. No.
                    </th> -->
                    <th nzColumnKey="{{ 'STATUS' }}" [nzSortFn]="true" nzWidth="20px" >
                        Status
                    </th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of agemasterdata.data">
                    <td nzLeft style="text-align: center">
                        <i nz-icon nzType="edit" nz-tooltip nzTooltipTitle="Edit" nzTheme="twotone"
                            (click)="edit(data)"></i>
                    </td>
                 
                    <td style="white-space: pre-line; text-align: left">
                        {{ data["LABEL"] }}
                    </td>
                    <td style="white-space: pre-line; text-align: center">
                        {{ data["FROM_AGE"] }}
                    </td>
                    <td style="white-space: pre-line; text-align: center">
                        {{ data["TO_AGE"] }}
                    </td>


                    <!-- <td style="text-align: center">{{ data["SEQ_NO"] }}</td> -->

                    <td style="text-align: center">
                        <i nz-icon *ngIf="data['STATUS']" [nzType]="'check-circle'" [nzTheme]="'twotone'"
                            [nzTwotoneColor]="'#52c41a'"></i>
                        <i nz-icon *ngIf="!data['STATUS']" [nzType]="'close-circle'" [nzTheme]="'twotone'"
                            [nzTwotoneColor]="'#f50'"></i>
                    </td>


                </tr>
            </tbody>
        </nz-table>
    </div>
</div>
<div *ngIf="drawerVisible">
    <nz-drawer [nzBodyStyle]="{
          height: 'calc(100% - 55px)',
          overflow: 'auto',
          'padding-bottom': '53px'
        }" [nzClosable]="true" [nzMask]="true" [nzMaskClosable]="false" [nzWidth]="420" [nzVisible]="drawerVisible"
        [nzTitle]="drawerTitle" (nzOnClose)="drawerClose()" (nzKeyboard)="(true)">
        <ng-container *nzDrawerContent>
            <div>
                <form nz-form #AgeCateogarypage="ngForm">
                    <nz-spin [nzSpinning]="isSpinning">
                        <div nz-row class="custom-form-item">
                            <div nz-col nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                                <nz-form-item>
                                    <nz-form-label nzRequired nzNoColon> Age Group Name </nz-form-label>
                                    <nz-form-control nzHasFeedback nzErrorTip=" Please Enter Correct  Age Group Name ">
                                        <input nz-input name="agenm" autocomplete="off"
                                            placeholder="Enter Age Group Name" [(ngModel)]="drawerData.LABEL"
                                            minlength="2" maxlength="228" 
                                            required />
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
                                <nz-form-item>
                                    <nz-form-label nzRequired nzNoColon>Min Age</nz-form-label>
                                    <nz-form-control nzHasFeedback nzErrorTip="Please Enter Min Age">
                                        <input nz-input placeholder="Min Age" name="fromage" style="width: 100%"
                                            minlength="1" [(ngModel)]="drawerData.FROM_AGE"
                                            (keypress)="commonFunction.omit($event)" maxlength="3" required />
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
                                <nz-form-item>
                                    <nz-form-label nzRequired nzNoColon>Max Age </nz-form-label>
                                    <nz-form-control nzHasFeedback nzErrorTip="Please Enter Max Age">
                                        <input nz-input placeholder="Max Age" name="toage" style="width: 100%"
                                            minlength="1" [(ngModel)]="drawerData.TO_AGE"
                                            (keypress)="commonFunction.omit($event)" maxlength="3" required />
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                            <div nz-col nzSpan="12">
                                <nz-form-item>
                                    <nz-form-label nzRequired nzNoColon> Sequence No. </nz-form-label>
                                    <nz-form-control nzHasFeedback nzErrorTip=" Please Enter Correct Sequence Number ">
                                        <input nz-input placeholder="Sequence No." name="unitseq" style="width: 100%"
                                            minlength="1" maxlength="3" [(ngModel)]="drawerData.SEQ_NO"
                                            (keypress)="commonFunction.omit($event)" maxlength="5" required disabled/>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>

                            <div nz-col nzSpan="8">
                                <nz-form-item>
                                    <nz-form-label nzNoColon> Status </nz-form-label>
                                    <nz-form-control>
                                        <nz-switch name="unitstatus" [(ngModel)]="drawerData.STATUS"
                                        nzCheckedChildren="Active"
                                        nzUnCheckedChildren="InActive"></nz-switch>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>



                        </div>
                    </nz-spin>
                </form>

                <div class="footer">
                    <button type="button" nz-button (click)="close()" class="ant-btn" style="margin-right: 8px">
                        <span> Cancel </span>
                    </button>
                    <button type="button" class="ant-btn ant-btn-primary" *ngIf="!drawerData.ID" nz-button nz-dropdown
                        [nzDropdownMenu]="menu" [nzLoading]="isSpinning" (click)="save(false, AgeCateogarypage)">
                        <span> Save & Close</span>
                    </button>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                            <li nz-menu-item class="menuc" style="border-radius: 4px; background-color: #40a9ff">
                                <a style="color: white" (click)="save(true, AgeCateogarypage)">
                                    Save & New</a>
                            </li>
                        </ul>
                    </nz-dropdown-menu>
                    <button type="button" class="ant-btn ant-btn-primary" nz-button [nzLoading]="isSpinning"
                        *ngIf="drawerData.ID" (click)="save(false, AgeCateogarypage)">
                        <span> Update & Close</span>
                    </button>
                </div>
            </div>
        </ng-container>
    </nz-drawer>
</div>