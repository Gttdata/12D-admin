<div nz-row nzType="flex">
    <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="12">
      <div class="formname">
        <b> {{ formTitle }} </b>
      </div>
    </div>
  
    <div
      nz-col
      nzXs="24"
      nzSm="24"
      nzMd="4"
      nzLg="6"
      nzXl="12"
      style="display: flex; justify-content: flex-end"
    >
      <form nz-form [nzLayout]="'inline'">
        <nz-form-item>
          <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
            <input
              type="text"
              name="search"
              (keyup)="keyup($event)"
              [(ngModel)]="searchText"
              nz-input
              placeholder="Search"
            />
          </nz-input-group>
          <ng-template #suffixIconButton>
            <button nz-button nzType="primary" (click)="search(true)" nzSearch>
              <i nz-icon nzType="search"></i>
            </button>
          </ng-template>
        </nz-form-item>
        <nz-form-item>
          <button nz-button nzType="primary" (click)="add()" nzJustify="end">
            <i nz-icon nzType="plus"></i>Add Question
          </button>
        </nz-form-item>
      </form>
    </div>
  </div>
  <br />
  <!--                            ***Table***             -->
  
  <div nz-row>
    <div nz-col nzSpan="24">
      <nz-table
        class="my-scroll no-wrap1"
        nzBordered
        #postTable
        nzShowSizeChanger
        [nzFrontPagination]="false"
        [nzData]="dataList"
        [nzLoading]="loadingRecords"
        [nzSize]="'small'"
        [nzTotal]="totalRecords"
        [(nzPageIndex)]="pageIndex"
        [(nzPageSize)]="pageSize"
        (nzPageIndexChange)="search()"
        (nzPageSizeChange)="search(true)"
        (nzQueryParams)="sort($event)"
      >
        <thead>
          <tr>
            <th nzWidth="60px" style="text-align: center"><b>Action</b></th>
  
            <th
              nzWidth="150px"
              nzColumnKey="{{ 'DESCRIPTION' }}"
              style="text-align: center"
              [nzSortFn]="true"
            >
              <b>Description</b>
            </th>
            <th
              nzWidth="80px"
              nzColumnKey="{{ 'QUESTION_TYPE' }}"
              style="text-align: center"
              [nzSortFn]="true"
            >
              <b> Question Type </b>
            </th>
            <!-- <th
              nzWidth="40px"
              nzColumnKey="{{ 'SEQ_NO' }}"
              style="text-align: center"
              [nzSortFn]="true"
            >
              <b> Sequence No </b>
            </th> -->
            <th
              nzWidth="40px"
              nzColumnKey="{{ 'STATUS' }}"
              style="text-align: center"
              [nzSortFn]="true"
            >
              <b>Status</b>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of postTable.data" style="text-align: center">
            <td>
              <a (click)="edit(data)">Edit</a>
            </td>
            <td style="white-space: pre-line">{{ data["DESCRIPTION"] }}</td>
            <td style="white-space: pre-line">{{ data["QUESTION_TYPE"] }}</td>
            <!-- <td style="white-space: pre-line">{{ data["SEQ_NO"] }}</td> -->

            <td>
              <i
                nz-icon
                *ngIf="data['STATUS']"
                [nzType]="'check-circle'"
                [nzTheme]="'twotone'"
                [nzTwotoneColor]="'#52c41a'"
              ></i>
              <i
                nz-icon
                *ngIf="!data['STATUS']"
                [nzType]="'close-circle'"
                [nzTheme]="'twotone'"
                [nzTwotoneColor]="'#f50'"
              ></i>
            </td>
            <td></td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
  <!--                            ***Form****                   -->
  <div *ngIf="drawerVisible">
    <nz-drawer
      [nzBodyStyle]="{
        height: 'calc(100% - 55px)',
        overflow: 'auto',
        'padding-bottom': '53px'
      }"
      [nzClosable]="true"
      [nzMask]="true"
      [nzMaskClosable]="false"
      [nzWidth]="500"
      [nzVisible]="drawerVisible"
      [nzTitle]="drawerTitle"
      (nzOnClose)="drawerClose()"
      (nzKeyboard)="(true)"
    >
      <ng-container *nzDrawerContent>
        <div>
          <!-- <form nz-form #form32> -->
          <form nz-form #websitebannerPage="ngForm">
            <nz-spin [nzSpinning]="isSpinning">
              <div nz-row class="custom-form-item">
                <div nz-col nzSpan="24">
                    <nz-form-item>
                      <nz-form-label nzRequired nzNoColon>Description</nz-form-label>
                      <nz-form-control nzHasFeedback nzErrorTip="Enter Description">
                        <textarea
                          nz-input
                          name="description"
                          (keypress)="commonFunction.alphaOnly($event)"
                          [(ngModel)]="drawerData.DESCRIPTION"
                          required
                          placeholder="Enter Description..."
                          rows="3"
                          autocomplete="off"
                        >
                        </textarea>
                        <span
                          *ngIf="drawerData.DESCRIPTION"
                          style="color: red; font-size: 11px;"
                        >
                          {{ drawerData.DESCRIPTION.length }}/250
                      </span>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                <!-- <div nz-col nzSpan="16">
                  <nz-form-item>
                    <nz-form-label nzRequired nzNoColon>School</nz-form-label>
                    <nz-form-control nzHasFeedback nzErrorTip="Select School">
                      <nz-select
                        nzAllowClear
                        nzShowSearch
                        name="selectschool"
                        [(ngModel)]="drawerData.SCHOOL_ID"
                        autocomplete="off"
                        nzPlaceHolder="Select School"
                      >
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                </div> -->
                <div nz-col nzSpan="12">
                    <nz-form-item>
                      <nz-form-label nzRequired nzNoColon
                        >Question Type
                      </nz-form-label>
                      <nz-form-control nzHasFeedback nzErrorTip="Enter Question Type">
                        <input
                          nz-input
                          name="questtype"
                          style="width: 100%"
                          autocomplete="off"
                          [(ngModel)]="drawerData.QUESTION_TYPE"
                          placeholder="Enter Question Type"
                          required
                        />
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                <div nz-col nzSpan="12">
                  <nz-form-item>
                    <nz-form-label nzRequired nzNoColon
                      >Sequence No
                    </nz-form-label>
                    <nz-form-control nzHasFeedback nzErrorTip="Enter Sequence No">
                      <input
                        nz-input
                        name="seqno"
                        style="width: 100%"
                        autocomplete="off"
                        [(ngModel)]="drawerData.SEQ_NO"
                        placeholder="Enter Sequence No"
                        (keypress)="commonFunction.omit($event)"
                        maxlength="5"
                        required
                        disabled
                      />
                    </nz-form-control>
                  </nz-form-item>
                </div>
  
                <div nz-col nzSpan="8">
                  <nz-form-item>
                    <nz-form-label nzNoColon>Status</nz-form-label>
                    <nz-form-control>
                      <nz-switch
                        name="is_active"
                        [(ngModel)]="drawerData.STATUS"
                        nzCheckedChildren="Yes"
                        nzUnCheckedChildren="No"
                      ></nz-switch>
                    </nz-form-control>
                  </nz-form-item>
                </div>
              </div>
            </nz-spin>
          </form>
        </div>
  
        <div class="footer">
          <button
            type="button"
            nz-button
            (click)="close()"
            class="ant-btn"
            style="margin-right: 8px"
          >
            <span>Close</span>
          </button>
          <button
            type="button"
            class="ant-btn ant-btn-primary"
            *ngIf="!drawerData.ID"
            nz-button
            nz-dropdown
            [nzDropdownMenu]="menu"
            [nzLoading]="isSpinning"
            (click)="save(false, websitebannerPage)"
          >
            <span>Save And Close</span>
          </button>
          <nz-dropdown-menu #menu="nzDropdownMenu">
            <ul nz-menu>
              <li
                nz-menu-item
                class="menuc"
                style="border-radius: 4px; background-color: #40a9ff"
              >
                <a style="color: white" (click)="save(true, websitebannerPage)"
                  >Save And New</a
                >
              </li>
            </ul>
          </nz-dropdown-menu>
          <button
            type="button"
            class="ant-btn ant-btn-primary"
            nz-button
            [nzLoading]="isSpinning"
            *ngIf="drawerData.ID"
            (click)="save(false, websitebannerPage)"
          >
            <span>Update And Close</span>
          </button>
        </div>
      </ng-container>
    </nz-drawer>
  </div>
  